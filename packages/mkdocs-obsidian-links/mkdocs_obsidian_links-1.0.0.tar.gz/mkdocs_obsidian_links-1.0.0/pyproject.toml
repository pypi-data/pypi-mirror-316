[build-system]
requires = ["poetry-core"]
build-backend = "poetry.core.masonry.api"

[tool.poetry]
name = "mkdocs-obsidian-links"
version = "1.0.0"
description = "A Mkdocs plugin that makes linking to other documents easy."
authors = ["Mara-Li <lili.simonetti@outlook.fr>"]
license = "MIT"
readme = "README.md"

[tool.poetry.dependencies]
python = "^3.12"
mkdocs = "*"
pygtrie = "*"

[tool.poetry.group.dev.dependencies]
ruff = "*"
watchdog = "^6.0.0"
python-semantic-release = "^9.15.2"
build = "^1.2.2.post1"

[tool.ruff.lint]
select = ["PTH", "ANN", "N", "Q", "PL", "E", "F", "I"]
ignore = ["E501"]
exclude = ["tests", "docs", "build", "dist", "venv", "venv3", "venv3.6", "venv3.7", "venv3.8", "venv3.9", "venv3.10", "__pycache__"]

[tool.ruff.lint.flake8-quotes]
inline-quotes = "double"

[tool.semantic_release]
version_source = "commit"  # Peut être "commit", "tag" ou "both"
upload_to_pypi = true
upload_to_release = true
branch = "main"  # Branche par défaut pour la publication
version_variable = "mkdocs_obsidian_links/__init__.py:__version__"
commit_parser = "angular"  # Style des commits (ex. angular, conventional, etc.)

[tool.semantic_release.changelog]
repository_url = "https://github.com/Mara-Li/mkdocs-obsidian-links"



[tool.setuptools.packages.find]
where = ["."]
exclude = ["test.*"]

[tool.poetry.plugins."mkdocs.plugins"]
ezlinks = "mkdocs_obsidian_links.plugin:LinksPlugin"


[tool.poetry-exec-plugin.commands]
test="cd test && mkdocs serve"
watch="python watchdog.py"
build="python -m build"
ruff="ruff format"
upload="poetry publish --build"