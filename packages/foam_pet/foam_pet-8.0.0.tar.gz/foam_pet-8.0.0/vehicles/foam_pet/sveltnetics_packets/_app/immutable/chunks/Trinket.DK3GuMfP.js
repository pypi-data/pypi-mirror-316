import{s as Se,J as ve,i as X,d as N,p as ye,q as Me,e as E,a as y,t as Ne,c as x,j as z,k as B,b as M,l as De,f as P,m as w,K as ne,L as je,g as _,M as we,y as fe,r as Te,z as qe,N as Le}from"./scheduler.NvvBUJNK.js";import{S as Be,i as Ve,t as V,g as Ie,b as K,e as Ce,c as Re,a as He,m as Fe,d as Je}from"./index.BjobFbD-.js";import{e as he,P as Ue}from"./0.CMTQMBFK.js";import{p as be}from"./parse_with_commas.HTzZ05Il.js";var R=1e6,Ee=1e6,W="[big.js] ",Y=W+"Invalid ",se=Y+"decimal places",Xe=Y+"rounding mode",ze=W+"Division by zero",g={},j=void 0;function H(e,r,t,n){var s=e.c;if(t===j&&(t=e.constructor.RM),t!==0&&t!==1&&t!==2&&t!==3)throw Error(Xe);if(r<1)n=t===3&&(n||!!s[0])||r===0&&(t===1&&s[0]>=5||t===2&&(s[0]>5||s[0]===5&&(n||s[1]!==j))),s.length=1,n?(e.e=e.e-r+1,s[0]=1):s[0]=e.e=0;else if(r<s.length){if(n=t===1&&s[r]>=5||t===2&&(s[r]>5||s[r]===5&&(n||s[r+1]!==j||s[r-1]&1))||t===3&&(n||!!s[0]),s.length=r,n){for(;++s[--r]>9;)if(s[r]=0,r===0){++e.e,s.unshift(1);break}}for(r=s.length;!s[--r];)s.pop()}return e}function F(e,r,t){var n=e.e,s=e.c.join(""),o=s.length;if(r)s=s.charAt(0)+(o>1?"."+s.slice(1):"")+(n<0?"e":"e+")+n;else if(n<0){for(;++n;)s="0"+s;s="0."+s}else if(n>0)if(++n>o)for(n-=o;n--;)s+="0";else n<o&&(s=s.slice(0,n)+"."+s.slice(n));else o>1&&(s=s.charAt(0)+"."+s.slice(1));return e.s<0&&t?"-"+s:s}g.abs=function(){var e=new this.constructor(this);return e.s=1,e};g.cmp=function(e){var r,t=this,n=t.c,s=(e=new t.constructor(e)).c,o=t.s,c=e.s,i=t.e,l=e.e;if(!n[0]||!s[0])return n[0]?o:s[0]?-c:0;if(o!=c)return o;if(r=o<0,i!=l)return i>l^r?1:-1;for(c=(i=n.length)<(l=s.length)?i:l,o=-1;++o<c;)if(n[o]!=s[o])return n[o]>s[o]^r?1:-1;return i==l?0:i>l^r?1:-1};g.div=function(e){var r=this,t=r.constructor,n=r.c,s=(e=new t(e)).c,o=r.s==e.s?1:-1,c=t.DP;if(c!==~~c||c<0||c>R)throw Error(se);if(!s[0])throw Error(ze);if(!n[0])return e.s=o,e.c=[e.e=0],e;var i,l,a,p,f,m=s.slice(),D=i=s.length,d=n.length,h=n.slice(0,i),v=h.length,b=e,O=b.c=[],C=0,u=c+(b.e=r.e-e.e)+1;for(b.s=o,o=u<0?0:u,m.unshift(0);v++<i;)h.push(0);do{for(a=0;a<10;a++){if(i!=(v=h.length))p=i>v?1:-1;else for(f=-1,p=0;++f<i;)if(s[f]!=h[f]){p=s[f]>h[f]?1:-1;break}if(p<0){for(l=v==i?s:m;v;){if(h[--v]<l[v]){for(f=v;f&&!h[--f];)h[f]=9;--h[f],h[v]+=10}h[v]-=l[v]}for(;!h[0];)h.shift()}else break}O[C++]=p?a:++a,h[0]&&p?h[v]=n[D]||0:h=[n[D]]}while((D++<d||h[0]!==j)&&o--);return!O[0]&&C!=1&&(O.shift(),b.e--,u--),C>u&&H(b,u,t.RM,h[0]!==j),b};g.eq=function(e){return this.cmp(e)===0};g.gt=function(e){return this.cmp(e)>0};g.gte=function(e){return this.cmp(e)>-1};g.lt=function(e){return this.cmp(e)<0};g.lte=function(e){return this.cmp(e)<1};g.minus=g.sub=function(e){var r,t,n,s,o=this,c=o.constructor,i=o.s,l=(e=new c(e)).s;if(i!=l)return e.s=-l,o.plus(e);var a=o.c.slice(),p=o.e,f=e.c,m=e.e;if(!a[0]||!f[0])return f[0]?e.s=-l:a[0]?e=new c(o):e.s=1,e;if(i=p-m){for((s=i<0)?(i=-i,n=a):(m=p,n=f),n.reverse(),l=i;l--;)n.push(0);n.reverse()}else for(t=((s=a.length<f.length)?a:f).length,i=l=0;l<t;l++)if(a[l]!=f[l]){s=a[l]<f[l];break}if(s&&(n=a,a=f,f=n,e.s=-e.s),(l=(t=f.length)-(r=a.length))>0)for(;l--;)a[r++]=0;for(l=r;t>i;){if(a[--t]<f[t]){for(r=t;r&&!a[--r];)a[r]=9;--a[r],a[t]+=10}a[t]-=f[t]}for(;a[--l]===0;)a.pop();for(;a[0]===0;)a.shift(),--m;return a[0]||(e.s=1,a=[m=0]),e.c=a,e.e=m,e};g.mod=function(e){var r,t=this,n=t.constructor,s=t.s,o=(e=new n(e)).s;if(!e.c[0])throw Error(ze);return t.s=e.s=1,r=e.cmp(t)==1,t.s=s,e.s=o,r?new n(t):(s=n.DP,o=n.RM,n.DP=n.RM=0,t=t.div(e),n.DP=s,n.RM=o,this.minus(t.times(e)))};g.neg=function(){var e=new this.constructor(this);return e.s=-e.s,e};g.plus=g.add=function(e){var r,t,n,s=this,o=s.constructor;if(e=new o(e),s.s!=e.s)return e.s=-e.s,s.minus(e);var c=s.e,i=s.c,l=e.e,a=e.c;if(!i[0]||!a[0])return a[0]||(i[0]?e=new o(s):e.s=s.s),e;if(i=i.slice(),r=c-l){for(r>0?(l=c,n=a):(r=-r,n=i),n.reverse();r--;)n.push(0);n.reverse()}for(i.length-a.length<0&&(n=a,a=i,i=n),r=a.length,t=0;r;i[r]%=10)t=(i[--r]=i[r]+a[r]+t)/10|0;for(t&&(i.unshift(t),++l),r=i.length;i[--r]===0;)i.pop();return e.c=i,e.e=l,e};g.pow=function(e){var r=this,t=new r.constructor("1"),n=t,s=e<0;if(e!==~~e||e<-Ee||e>Ee)throw Error(Y+"exponent");for(s&&(e=-e);e&1&&(n=n.times(r)),e>>=1,!!e;)r=r.times(r);return s?t.div(n):n};g.prec=function(e,r){if(e!==~~e||e<1||e>R)throw Error(Y+"precision");return H(new this.constructor(this),e,r)};g.round=function(e,r){if(e===j)e=0;else if(e!==~~e||e<-R||e>R)throw Error(se);return H(new this.constructor(this),e+this.e+1,r)};g.sqrt=function(){var e,r,t,n=this,s=n.constructor,o=n.s,c=n.e,i=new s("0.5");if(!n.c[0])return new s(n);if(o<0)throw Error(W+"No square root");o=Math.sqrt(+F(n,!0,!0)),o===0||o===1/0?(r=n.c.join(""),r.length+c&1||(r+="0"),o=Math.sqrt(r),c=((c+1)/2|0)-(c<0||c&1),e=new s((o==1/0?"5e":(o=o.toExponential()).slice(0,o.indexOf("e")+1))+c)):e=new s(o+""),c=e.e+(s.DP+=4);do t=e,e=i.times(t.plus(n.div(t)));while(t.c.slice(0,c).join("")!==e.c.slice(0,c).join(""));return H(e,(s.DP-=4)+e.e+1,s.RM)};g.times=g.mul=function(e){var r,t=this,n=t.constructor,s=t.c,o=(e=new n(e)).c,c=s.length,i=o.length,l=t.e,a=e.e;if(e.s=t.s==e.s?1:-1,!s[0]||!o[0])return e.c=[e.e=0],e;for(e.e=l+a,c<i&&(r=s,s=o,o=r,a=c,c=i,i=a),r=new Array(a=c+i);a--;)r[a]=0;for(l=i;l--;){for(i=0,a=c+l;a>l;)i=r[a]+o[l]*s[a-l-1]+i,r[a--]=i%10,i=i/10|0;r[a]=i}for(i?++e.e:r.shift(),l=r.length;!r[--l];)r.pop();return e.c=r,e};g.toExponential=function(e,r){var t=this,n=t.c[0];if(e!==j){if(e!==~~e||e<0||e>R)throw Error(se);for(t=H(new t.constructor(t),++e,r);t.c.length<e;)t.c.push(0)}return F(t,!0,!!n)};g.toFixed=function(e,r){var t=this,n=t.c[0];if(e!==j){if(e!==~~e||e<0||e>R)throw Error(se);for(t=H(new t.constructor(t),e+t.e+1,r),e=e+t.e+1;t.c.length<e;)t.c.push(0)}return F(t,!1,!!n)};g[Symbol.for("nodejs.util.inspect.custom")]=g.toJSON=g.toString=function(){var e=this,r=e.constructor;return F(e,e.e<=r.NE||e.e>=r.PE,!!e.c[0])};g.toNumber=function(){var e=+F(this,!0,!0);if(this.constructor.strict===!0&&!this.eq(e.toString()))throw Error(W+"Imprecise conversion");return e};g.toPrecision=function(e,r){var t=this,n=t.constructor,s=t.c[0];if(e!==j){if(e!==~~e||e<1||e>R)throw Error(Y+"precision");for(t=H(new n(t),e,r);t.c.length<e;)t.c.push(0)}return F(t,e<=t.e||t.e<=n.NE||t.e>=n.PE,!!s)};g.valueOf=function(){var e=this,r=e.constructor;if(r.strict===!0)throw Error(W+"valueOf disallowed");return F(e,e.e<=r.NE||e.e>=r.PE,!0)};const xe="01234567890.",Ke=e=>{if(typeof e!="string")throw new Error(`Digit amount needs to be a string, however received: "${typeof e}".`);if(e.length===0)throw new Error("Digit amount needs to be a string of length >= 1");const r=e.length-1;for(let t=0;t<=r;t++)if(xe.includes(e[t])!==!0)throw new Error(`Digit glyphs need to be one of ${xe}, however at index ${t}, received: "${e[t]}".`)},Oe=({fractional:e,part:r="back",until:t=8})=>{if(console.log({fractional:e,part:r,until:t}),r==="back"){const n=t-e.length;for(let s=1;s<=n;s++)e=e+"0";return e}else{const n=t-e.length;console.log(`Add ${n} zeroes`);for(let s=1;s<=n;s++)e="0"+e;return e}},ue=({Digits:e})=>{he(e);let r=e.length-1,t="no",n="";for(let s=0;s<=r;s++)e[s]!=="0"&&(t="yes"),t==="yes"&&(n+=e[s]);return n.length===0?"0":n},We=({APT:e})=>{if(Ke(e),e.includes(".")!==!0)return ue({Digits:e+"00000000"});const r=e.split(".");if(r.length!==2)throw new Error("The APT amount wasn't two parts after gettings the parts around the decimal.");const t=Oe({fractional:r[1]});if(t.length>=9)throw new Error("The APT amount after the decimal can't be more than 8 digits.");if(t.length!==8)throw new Error("The APT amount after the decimal was not 8 digits.");console.log({pair:r,pair_fractional:t});const n=r[0]+t;return console.log({squeeze:n}),ue({Digits:n})},Ye=e=>{const r=e.slice(0,e.length-8),t=e.slice(e.length-8);return[r,t]},Ze=({Octas:e})=>{he(e),e.length<=8&&(e=Oe({fractional:e,until:9,part:"front"}));const r=Ye(e);return r[0]+"."+r[1]};function Pe(e){let r,t,n,s=`<div class="alert-message" style="text-align: center; "><p><b>Caution</b>, Please make sure &quot;<b>Actual Amount</b>&quot; is the intended amount.
				</p><p>It&#39;s calculated from the number provided and is the amount used.</p></div>`,o,c,i,l,a,p,f,m,D="APT",d,h="Octas",v,b,O,C,u,Z="<b>Actual Amount</b>",oe,L,S,U=be(e[1])+"",G,ie,q,pe="Octas",le,J,ae,_e,T=e[0]==="yes"&&Ae(e),A=e[4].problem.length>=1&&ke(e);return{c(){r=E("div"),t=E("div"),n=E("aside"),n.innerHTML=s,o=y(),c=E("div"),i=E("label"),l=E("input"),a=y(),p=E("label"),f=E("select"),m=E("option"),m.textContent=D,d=E("option"),d.textContent=h,v=y(),b=E("div"),T&&T.c(),O=y(),C=E("span"),u=E("span"),u.innerHTML=Z,oe=y(),L=E("div"),S=E("span"),G=Ne(U),ie=y(),q=E("span"),q.textContent=pe,le=y(),A&&A.c(),this.h()},l(k){r=x(k,"DIV",{});var I=z(r);t=x(I,"DIV",{});var Q=z(t);n=x(Q,"ASIDE",{class:!0,"data-svelte-h":!0}),B(n)!=="svelte-20bl5"&&(n.innerHTML=s),o=M(Q),c=x(Q,"DIV",{_class:!0,style:!0});var $=z(c);i=x($,"LABEL",{class:!0,style:!0});var ge=z(i);l=x(ge,"INPUT",{monitor:!0,amount_field:!0,style:!0,class:!0,type:!0,placeholder:!0}),ge.forEach(N),a=M($),p=x($,"LABEL",{style:!0,class:!0});var me=z(p);f=x(me,"SELECT",{monitor:!0,currency_chooser:!0,style:!0,class:!0});var ce=z(f);m=x(ce,"OPTION",{"data-svelte-h":!0}),B(m)!=="svelte-1x28i8j"&&(m.textContent=D),d=x(ce,"OPTION",{"data-svelte-h":!0}),B(d)!=="svelte-1tgaogs"&&(d.textContent=h),ce.forEach(N),me.forEach(N),$.forEach(N),Q.forEach(N),v=M(I),b=x(I,"DIV",{style:!0});var ee=z(b);T&&T.l(ee),O=M(ee),C=x(ee,"SPAN",{class:!0,style:!0});var te=z(C);u=x(te,"SPAN",{"data-svelte-h":!0}),B(u)!=="svelte-1pvhq2p"&&(u.innerHTML=Z),oe=M(te),L=x(te,"DIV",{});var re=z(L);S=x(re,"SPAN",{monitor:!0,style:!0});var de=z(S);G=De(de,U),de.forEach(N),ie=M(re),q=x(re,"SPAN",{class:!0,style:!0,"data-svelte-h":!0}),B(q)!=="svelte-8793rd"&&(q.textContent=pe),re.forEach(N),te.forEach(N),ee.forEach(N),le=M(I),A&&A.l(I),I.forEach(N),this.h()},h(){P(n,"class","alert variant-filled-warning"),P(l,"monitor","amount field"),P(l,"amount_field",""),w(l,"padding","10px 20px"),w(l,"text-align","right"),P(l,"class","input"),P(l,"type","text"),P(l,"placeholder",e[6]),P(i,"class","label"),w(i,"width","100%"),m.__value="APT",ne(m,m.__value),d.__value="Octas",ne(d,d.__value),P(f,"monitor","currency chooser"),P(f,"currency_chooser",""),w(f,"height","100%"),w(f,"width","100%"),P(f,"class","select"),e[3]===void 0&&je(()=>e[13].call(f)),w(p,"width","3cm"),w(p,"border-radius","8px"),w(p,"text-align","center"),w(p,"margin-left","0.1cm"),P(p,"class","label"),P(c,"_class","input-group input-group-divider grid-cols-[auto_1fr_auto]"),w(c,"padding","2px"),w(c,"display","flex"),P(S,"monitor","actual amount of octas"),w(S,"font-size","1em"),w(S,"white-space","preserve"),w(S,"word-wrap","anywhere"),w(S,"margin","4px"),P(q,"class","badge variant-filled-surface"),w(q,"font-size","1.1em"),P(C,"class","badge variant-soft"),P(C,"style","// display: grid; // grid-template-columns: repeat(auto-fit, minmax(6cm, 1fr)); // gap: 4px; // flex: 1 1 50%; display: flex; flex-wrap: wrap; justify-content: space-between; position: relative; font-size: 1.2em; white-space: break-spaces; padding: 0.25cm 0.5cm; "),P(b,"style","// display: flex; // flex-wrap: wrap; // justify-content: space-between; // flex-direction: wrap; width: 100%; margin: 4px 0; ")},m(k,I){X(k,r,I),_(r,t),_(t,n),_(t,o),_(t,c),_(c,i),_(i,l),ne(l,e[2]),_(c,a),_(c,p),_(p,f),_(f,m),_(f,d),we(f,e[3],!0),_(r,v),_(r,b),T&&T.m(b,null),_(b,O),_(b,C),_(C,u),_(C,oe),_(C,L),_(L,S),_(S,G),_(L,ie),_(L,q),_(r,le),A&&A.m(r,null),J=!0,ae||(_e=[fe(l,"input",e[12]),fe(l,"keyup",e[7]),fe(f,"change",e[13])],ae=!0)},p(k,I){(!J||I&64)&&P(l,"placeholder",k[6]),I&4&&l.value!==k[2]&&ne(l,k[2]),I&8&&we(f,k[3]),k[0]==="yes"?T?T.p(k,I):(T=Ae(k),T.c(),T.m(b,O)):T&&(T.d(1),T=null),(!J||I&2)&&U!==(U=be(k[1])+"")&&Te(G,U),k[4].problem.length>=1?A?(A.p(k,I),I&16&&V(A,1)):(A=ke(k),A.c(),V(A,1),A.m(r,null)):A&&(Ie(),K(A,1,1,()=>{A=null}),Ce())},i(k){J||(V(A),J=!0)},o(k){K(A),J=!1},d(k){k&&N(r),T&&T.d(),A&&A.d(),ae=!1,qe(_e)}}}function Ae(e){let r,t,n="Sci Note Estimate",s,o,c,i=e[8](e[1])+"",l,a,p,f="Octas",m,D;return{c(){r=E("span"),t=E("span"),t.textContent=n,s=y(),o=E("div"),c=E("span"),l=Ne(i),a=y(),p=E("span"),p.textContent=f,m=y(),D=E("div"),this.h()},l(d){r=x(d,"SPAN",{class:!0,style:!0});var h=z(r);t=x(h,"SPAN",{"data-svelte-h":!0}),B(t)!=="svelte-1oo504f"&&(t.textContent=n),s=M(h),o=x(h,"DIV",{});var v=z(o);c=x(v,"SPAN",{style:!0});var b=z(c);l=De(b,i),b.forEach(N),a=M(v),p=x(v,"SPAN",{class:!0,style:!0,"data-svelte-h":!0}),B(p)!=="svelte-8793rd"&&(p.textContent=f),v.forEach(N),h.forEach(N),m=M(d),D=x(d,"DIV",{style:!0}),z(D).forEach(N),this.h()},h(){w(c,"font-size","1em"),w(c,"white-space","preserve"),w(c,"word-wrap","anywhere"),w(c,"margin","4px"),P(p,"class","badge variant-filled-surface"),w(p,"font-size","1.1em"),P(r,"class","badge variant-soft"),P(r,"style","// display: grid; // grid-template-columns: repeat(auto-fit, minmax(6cm, 1fr)); // gap: 4px; // flex: 1 1 50%; display: flex; flex-wrap: wrap; justify-content: space-between; position: relative; font-size: 1.2em; white-space: break-spaces; padding: 0.25cm 0.5cm; "),w(D,"height","6px"),w(D,"width","6px")},m(d,h){X(d,r,h),_(r,t),_(r,s),_(r,o),_(o,c),_(c,l),_(o,a),_(o,p),X(d,m,h),X(d,D,h)},p(d,h){h&2&&i!==(i=d[8](d[1])+"")&&Te(l,i)},d(d){d&&(N(r),N(m),N(D))}}}function ke(e){let r,t;return r=new Ue({props:{text:e[4].problem}}),{c(){Re(r.$$.fragment)},l(n){He(r.$$.fragment,n)},m(n,s){Fe(r,n,s),t=!0},p(n,s){const o={};s&16&&(o.text=n[4].problem),r.$set(o)},i(n){t||(V(r.$$.fragment,n),t=!0)},o(n){K(r.$$.fragment,n),t=!1},d(n){Je(r,n)}}}function Ge(e){let r,t,n=e[5]==="yes"&&Pe(e);return{c(){n&&n.c(),r=ve()},l(s){n&&n.l(s),r=ve()},m(s,o){n&&n.m(s,o),X(s,r,o),t=!0},p(s,[o]){s[5]==="yes"?n?(n.p(s,o),o&32&&V(n,1)):(n=Pe(s),n.c(),V(n,1),n.m(r.parentNode,r)):n&&(Ie(),K(n,1,1,()=>{n=null}),Ce())},i(s){t||(V(n),t=!0)},o(s){K(n),t=!1},d(s){s&&N(r),n&&n.d(s)}}}function Qe(e,r,t){let n,s,o,c,{on_change:i=()=>{}}=r,{on_prepare:l=()=>{}}=r,{display_sci_note_estimate:a="no"}=r;const p=Object.freeze({APT:"Amount of APT",Octas:"Amount of Octas"});let f={sci_note_estimate_of_Octas:"",problem:""};const m=({Octas:u})=>{console.log("change_amount:",{Octas:u}),he(u),t(1,c=ue({Digits:u})),t(4,f.problem="",f),i({effects:f,actual_amount_of_Octas:c,amount:n,currency:s})},D=()=>{},d=async()=>{t(4,f.problem="",f),t(1,c=""),t(6,o=p[s]);try{if(s==="APT"){const u=await We({APT:n.toString()});m({Octas:u});return}else if(s==="Octas"){const u=n.toString();m({Octas:u});return}else t(4,f.problem=`Currency "${s}" was not accounted for.`,f)}catch(u){n.length!==0&&console.error(u),t(4,f.problem=u.message,f)}i({effects:f,actual_amount_of_Octas:c,amount:n,currency:s})};let h="no";ye(async()=>{t(5,h="yes"),await l()});const v=({Octas:u})=>{if(s==="APT"){const Z=Ze({Octas:u});t(2,n=Z)}else t(2,n=u);m({Octas:u})};Me(()=>{});const b=()=>{try{let u=parseFloat(c).toExponential();return u==="NaN"?"":u}catch(u){console.error(u)}return""};function O(){n=this.value,t(2,n)}function C(){s=Le(this),t(3,s)}return e.$$set=u=>{"on_change"in u&&t(9,i=u.on_change),"on_prepare"in u&&t(10,l=u.on_prepare),"display_sci_note_estimate"in u&&t(0,a=u.display_sci_note_estimate)},e.$$.update=()=>{e.$$.dirty&4&&(console.log("amount changed"),d()),e.$$.dirty&8&&(console.log("currency changed"),d()),e.$$.dirty&2&&b()},t(2,n=""),t(3,s="APT"),t(6,o=p.Octas),t(1,c=""),[a,c,n,s,f,h,o,D,b,i,l,v,O,C]}class nt extends Be{constructor(r){super(),Ve(this,r,Qe,Ge,Se,{on_change:9,on_prepare:10,display_sci_note_estimate:0,modify:11})}get modify(){return this.$$.ctx[11]}}export{nt as T};
//# sourceMappingURL=Trinket.DK3GuMfP.js.map
