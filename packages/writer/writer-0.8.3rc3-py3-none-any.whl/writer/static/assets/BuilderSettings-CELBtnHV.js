function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./WdsDropdownMenu-CDR2sIpc.js","./index-Bu3rAGYU.js","./index-CHOzhE-F.css","./WdsDropdownMenu-DXserqRx.css","./BuilderEmbeddedCodeEditor-xQxb7c_d.js","./BuilderEmbeddedCodeEditor-C7Z8O75E.css","./BuilderSettingsHandlers-D_HDqp1N.js","./BuilderApp-i1W1UlVq.js","./marked.esm-273vDTCT.js","./BuilderApp-CpqvHm87.css","./instancePath-BsbOTTI8.js","./BuilderSettingsHandlers-BJTN2Yq3.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{d as Y,i as D,a as W,c as M,r as L,w as he,k as Ce,o as g,e as E,m as R,n as N,W as J,M as T,S as Me,b as V,f as w,F as G,s as be,t as H,K as B,x as pt,O as se,y as ae,z as re,_ as X,a3 as Ht,al as kn,am as xn,an as Ae,ao as Re,a4 as Sn,ap as Yt,aq as Xt,Q as fe,E as In,V as vt,J as ht,X as Jt,a5 as ce,q,l as Te,ar as Gt,D as mt,L as ge,as as Ct,u as En,v as He,at as $t,au as Cn,av as $n,a8 as ve,a7 as ne,aw as Bn,Y as Mn}from"./index-Bu3rAGYU.js";import{B as gt,a as An}from"./BuilderApp-i1W1UlVq.js";import{p as Tn}from"./instancePath-BsbOTTI8.js";import{B as Bt}from"./BuilderEmbeddedCodeEditor-xQxb7c_d.js";import{marked as On}from"./marked.esm-273vDTCT.js";const ke=e=>(ae("data-v-8502efbb"),e=e(),re(),e),Fn=["data-writer-id"],Rn=ke(()=>w("i",{class:"material-symbols-outlined"},"add",-1)),Ln=ke(()=>w("i",{class:"material-symbols-outlined"},"arrow_upward",-1)),Pn=ke(()=>w("i",{class:"material-symbols-outlined"},"arrow_downward",-1)),Vn=ke(()=>w("i",{class:"material-symbols-outlined"},"cut",-1)),Dn=ke(()=>w("i",{class:"material-symbols-outlined"},"content_copy",-1)),Wn=ke(()=>w("i",{class:"material-symbols-outlined"},"content_paste",-1)),Nn=ke(()=>w("i",{class:"material-symbols-outlined"},"move_up",-1)),jn=ke(()=>w("i",{class:"material-symbols-outlined"},"delete",-1)),Kn={id:"validChildrenTypes"},Un=["value"],zn=Y({__name:"BuilderSettingsActions",setup(e){const t=D(W.core),n=D(W.builderManager),{createAndInsertComponent:o,moveComponentUp:s,moveComponentDown:i,cutComponent:l,pasteComponent:a,copyComponent:r,isAddAllowed:c,isCopyAllowed:u,isCutAllowed:d,isGoToParentAllowed:f,isPasteAllowed:h,isDeleteAllowed:x,getEnabledMoves:b,removeComponentSubtree:O,goToParent:C}=se(t,n),m=M(()=>{var v;return(v=n.getSelection())==null?void 0:v.componentId}),A=M(()=>{var v;return(v=n.getSelection())==null?void 0:v.instancePath}),S=L(!1),_=L(null),$=M(()=>{const v=t.getContainableTypes(m.value),y={};return v.map(F=>{const j=t.getComponentDefinition(F);y[F]=j}),y});function k(v){const y=v.target.value,F=Object.entries($.value).filter(([K,z])=>z.name==y);if(F.length==0)return;const j=F[0][0];o(j,m.value),S.value=!1}function I(){var j,K;const v=t.getComponentById(m.value);if(!v)return;const{up:y,down:F}=b(m.value);_.value={isAddEnabled:c(m.value),componentTypeName:(j=t.getComponentDefinition(v.type))==null?void 0:j.name,toolkit:(K=t.getComponentDefinition(v.type))==null?void 0:K.toolkit,isMoveUpEnabled:y,isMoveDownEnabled:F,isCopyEnabled:u(m.value),isCutEnabled:d(m.value),isPasteEnabled:h(m.value),isGoToParentEnabled:f(m.value),isDeleteEnabled:x(m.value)}}const p={desc:"Close",fn:()=>{S.value=!1}};return he(()=>{var v;return(v=t.getComponentById(m.value))==null?void 0:v.position},async v=>{typeof v>"u"||v===null||I()},{flush:"post"}),Ce(()=>{I()}),(v,y)=>{var F,j,K,z,ye,Pe,Ve,De;return g(),E("div",{class:pt(["BuilderSettingsActions",{collapsed:T(n).isSettingsBarCollapsed.value}]),"data-writer-id":m.value},[R(J,{"data-writer-tooltip":"Add child","data-writer-tooltip-placement":"left",variant:"neutral",size:"smallIcon",class:"actionButton",disabled:!((F=_.value)!=null&&F.isAddEnabled),onClick:y[0]||(y[0]=Z=>{var U;return(U=_.value)!=null&&U.isAddEnabled?S.value=!0:void 0})},{default:N(()=>[Rn]),_:1},8,["disabled"]),R(J,{class:"actionButton",size:"small",variant:"neutral","data-writer-tooltip-placement":"left","data-writer-tooltip":`Move up (${T(Me)()}↑)`,disabled:!((j=_.value)!=null&&j.isMoveUpEnabled),onClick:y[1]||(y[1]=Z=>{var U;return(U=_.value)!=null&&U.isMoveUpEnabled?T(s)(m.value):void 0})},{default:N(()=>[Ln]),_:1},8,["data-writer-tooltip","disabled"]),R(J,{class:"actionButton",variant:"neutral",size:"small","data-writer-tooltip":`Move down (${T(Me)()}↓)`,"data-writer-tooltip-placement":"left",disabled:!((K=_.value)!=null&&K.isMoveDownEnabled),onClick:y[2]||(y[2]=Z=>{var U;return(U=_.value)!=null&&U.isMoveDownEnabled?T(i)(m.value):void 0})},{default:N(()=>[Pn]),_:1},8,["data-writer-tooltip","disabled"]),R(J,{class:"actionButton",variant:"neutral",size:"small","data-writer-tooltip":`Cut (${T(Me)()}X)`,"data-writer-tooltip-placement":"left",disabled:!((z=_.value)!=null&&z.isCutEnabled),onClick:y[3]||(y[3]=Z=>{var U;return(U=_.value)!=null&&U.isCutEnabled?T(l)(m.value):void 0})},{default:N(()=>[Vn]),_:1},8,["data-writer-tooltip","disabled"]),R(J,{class:"actionButton",variant:"neutral",size:"small","data-writer-tooltip":`Copy (${T(Me)()}C)`,"data-writer-tooltip-placement":"left",disabled:!((ye=_.value)!=null&&ye.isCopyEnabled),onClick:y[4]||(y[4]=Z=>{var U;return(U=_.value)!=null&&U.isCopyEnabled?T(r)(m.value):void 0})},{default:N(()=>[Dn]),_:1},8,["data-writer-tooltip","disabled"]),R(J,{class:"actionButton",variant:"neutral",size:"small","data-writer-tooltip":`Paste (${T(Me)()}V)`,"data-writer-tooltip-placement":"left",disabled:!((Pe=_.value)!=null&&Pe.isPasteEnabled),onClick:y[5]||(y[5]=Z=>{var U;return(U=_.value)!=null&&U.isPasteEnabled?T(a)(m.value):void 0})},{default:N(()=>[Wn]),_:1},8,["data-writer-tooltip","disabled"]),R(J,{class:"actionButton",variant:"neutral",size:"small","data-writer-tooltip":`Go to parent (${T(Me)()}Shift ↑)`,"data-writer-tooltip-placement":"left",disabled:!((Ve=_.value)!=null&&Ve.isGoToParentEnabled),onClick:y[6]||(y[6]=Z=>{var U;return(U=_.value)!=null&&U.isGoToParentEnabled?T(C)(m.value,A.value):void 0})},{default:N(()=>[Nn]),_:1},8,["data-writer-tooltip","disabled"]),R(J,{class:"actionButton delete",variant:"neutral",size:"small","data-automation-action":"delete","data-writer-tooltip":"Delete (Del)","data-writer-tooltip-placement":"left",disabled:!((De=_.value)!=null&&De.isDeleteEnabled),onClick:y[7]||(y[7]=Z=>{var U;return(U=_.value)!=null&&U.isDeleteEnabled?T(O)(m.value):void 0})},{default:N(()=>[jn]),_:1},8,["disabled"]),S.value?(g(),V(gt,{key:0,"close-action":p,icon:"add","modal-title":"Add child component"},{default:N(()=>[w("input",{class:"addModalInput",type:"text",list:"validChildrenTypes",placeholder:"Component...",onChange:k},null,32),w("datalist",Kn,[(g(!0),E(G,null,be($.value,(Z,U)=>(g(),E("option",{key:U,value:Z.name},H(Z.name),9,Un))),128))])]),_:1})):B("",!0)],10,Fn)}}}),Hn=X(zn,[["__scopeId","data-v-8502efbb"]]),Yn=["top","right","bottom","left"],Mt=["start","end"],At=Yn.reduce((e,t)=>e.concat(t,t+"-"+Mt[0],t+"-"+Mt[1]),[]),Tt=Math.min,Ne=Math.max,Xe=Math.round,de=e=>({x:e,y:e}),Xn={left:"right",right:"left",bottom:"top",top:"bottom"},Jn={start:"end",end:"start"};function qt(e,t){return typeof e=="function"?e(t):e}function qe(e){return e.split("-")[0]}function Ee(e){return e.split("-")[1]}function Gn(e){return e==="x"?"y":"x"}function Qt(e){return e==="y"?"height":"width"}function Zt(e){return["top","bottom"].includes(qe(e))?"y":"x"}function en(e){return Gn(Zt(e))}function qn(e,t,n){n===void 0&&(n=!1);const o=Ee(e),s=en(e),i=Qt(s);let l=s==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(l=Ot(l)),[l,Ot(l)]}function Qn(e){return e.replace(/start|end/g,t=>Jn[t])}function Ot(e){return e.replace(/left|right|bottom|top/g,t=>Xn[t])}function Zn(e){return{top:0,right:0,bottom:0,left:0,...e}}function eo(e){return typeof e!="number"?Zn(e):{top:e,right:e,bottom:e,left:e}}function Je(e){const{x:t,y:n,width:o,height:s}=e;return{width:o,height:s,top:n,left:t,right:t+o,bottom:n+s,x:t,y:n}}function Ft(e,t,n){let{reference:o,floating:s}=e;const i=Zt(t),l=en(t),a=Qt(l),r=qe(t),c=i==="y",u=o.x+o.width/2-s.width/2,d=o.y+o.height/2-s.height/2,f=o[a]/2-s[a]/2;let h;switch(r){case"top":h={x:u,y:o.y-s.height};break;case"bottom":h={x:u,y:o.y+o.height};break;case"right":h={x:o.x+o.width,y:d};break;case"left":h={x:o.x-s.width,y:d};break;default:h={x:o.x,y:o.y}}switch(Ee(t)){case"start":h[l]-=f*(n&&c?-1:1);break;case"end":h[l]+=f*(n&&c?-1:1);break}return h}const to=async(e,t,n)=>{const{placement:o="bottom",strategy:s="absolute",middleware:i=[],platform:l}=n,a=i.filter(Boolean),r=await(l.isRTL==null?void 0:l.isRTL(t));let c=await l.getElementRects({reference:e,floating:t,strategy:s}),{x:u,y:d}=Ft(c,o,r),f=o,h={},x=0;for(let b=0;b<a.length;b++){const{name:O,fn:C}=a[b],{x:m,y:A,data:S,reset:_}=await C({x:u,y:d,initialPlacement:o,placement:f,strategy:s,middlewareData:h,rects:c,platform:l,elements:{reference:e,floating:t}});u=m??u,d=A??d,h={...h,[O]:{...h[O],...S}},_&&x<=50&&(x++,typeof _=="object"&&(_.placement&&(f=_.placement),_.rects&&(c=_.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:s}):_.rects),{x:u,y:d}=Ft(c,f,r)),b=-1)}return{x:u,y:d,placement:f,strategy:s,middlewareData:h}};async function no(e,t){var n;t===void 0&&(t={});const{x:o,y:s,platform:i,rects:l,elements:a,strategy:r}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:h=0}=qt(t,e),x=eo(h),O=a[f?d==="floating"?"reference":"floating":d],C=Je(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(O)))==null||n?O:O.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:r})),m=d==="floating"?{x:o,y:s,width:l.floating.width,height:l.floating.height}:l.reference,A=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),S=await(i.isElement==null?void 0:i.isElement(A))?await(i.getScale==null?void 0:i.getScale(A))||{x:1,y:1}:{x:1,y:1},_=Je(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:m,offsetParent:A,strategy:r}):m);return{top:(C.top-_.top+x.top)/S.y,bottom:(_.bottom-C.bottom+x.bottom)/S.y,left:(C.left-_.left+x.left)/S.x,right:(_.right-C.right+x.right)/S.x}}function oo(e,t,n){return(e?[...n.filter(s=>Ee(s)===e),...n.filter(s=>Ee(s)!==e)]:n.filter(s=>qe(s)===s)).filter(s=>e?Ee(s)===e||(t?Qn(s)!==s:!1):!0)}const so=function(e){return e===void 0&&(e={}),{name:"autoPlacement",options:e,async fn(t){var n,o,s;const{rects:i,middlewareData:l,placement:a,platform:r,elements:c}=t,{crossAxis:u=!1,alignment:d,allowedPlacements:f=At,autoAlignment:h=!0,...x}=qt(e,t),b=d!==void 0||f===At?oo(d||null,h,f):f,O=await no(t,x),C=((n=l.autoPlacement)==null?void 0:n.index)||0,m=b[C];if(m==null)return{};const A=qn(m,i,await(r.isRTL==null?void 0:r.isRTL(c.floating)));if(a!==m)return{reset:{placement:b[0]}};const S=[O[qe(m)],O[A[0]],O[A[1]]],_=[...((o=l.autoPlacement)==null?void 0:o.overflows)||[],{placement:m,overflows:S}],$=b[C+1];if($)return{data:{index:C+1,overflows:_},reset:{placement:$}};const k=_.map(v=>{const y=Ee(v.placement);return[v.placement,y&&u?v.overflows.slice(0,2).reduce((F,j)=>F+j,0):v.overflows[0],v.overflows]}).sort((v,y)=>v[1]-y[1]),p=((s=k.filter(v=>v[2].slice(0,Ee(v[0])?2:3).every(y=>y<=0))[0])==null?void 0:s[0])||k[0][0];return p!==a?{data:{index:C+1,overflows:_},reset:{placement:p}}:{}}}};function Qe(){return typeof window<"u"}function $e(e){return _t(e)?(e.nodeName||"").toLowerCase():"#document"}function te(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function _e(e){var t;return(t=(_t(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function _t(e){return Qe()?e instanceof Node||e instanceof te(e).Node:!1}function le(e){return Qe()?e instanceof Element||e instanceof te(e).Element:!1}function pe(e){return Qe()?e instanceof HTMLElement||e instanceof te(e).HTMLElement:!1}function Rt(e){return!Qe()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof te(e).ShadowRoot}function Ke(e){const{overflow:t,overflowX:n,overflowY:o,display:s}=ie(e);return/auto|scroll|overlay|hidden|clip/.test(t+o+n)&&!["inline","contents"].includes(s)}function lo(e){return["table","td","th"].includes($e(e))}function Ze(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function yt(e){const t=bt(),n=le(e)?ie(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(o=>(n.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(n.contain||"").includes(o))}function io(e){let t=we(e);for(;pe(t)&&!Fe(t);){if(yt(t))return t;if(Ze(t))return null;t=we(t)}return null}function bt(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Fe(e){return["html","body","#document"].includes($e(e))}function ie(e){return te(e).getComputedStyle(e)}function et(e){return le(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function we(e){if($e(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Rt(e)&&e.host||_e(e);return Rt(t)?t.host:t}function tn(e){const t=we(e);return Fe(t)?e.ownerDocument?e.ownerDocument.body:e.body:pe(t)&&Ke(t)?t:tn(t)}function lt(e,t,n){var o;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=tn(e),i=s===((o=e.ownerDocument)==null?void 0:o.body),l=te(s);if(i){const a=it(l);return t.concat(l,l.visualViewport||[],Ke(s)?s:[],a&&n?lt(a):[])}return t.concat(s,lt(s,[],n))}function it(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function nn(e){const t=ie(e);let n=parseFloat(t.width)||0,o=parseFloat(t.height)||0;const s=pe(e),i=s?e.offsetWidth:n,l=s?e.offsetHeight:o,a=Xe(n)!==i||Xe(o)!==l;return a&&(n=i,o=l),{width:n,height:o,$:a}}function on(e){return le(e)?e:e.contextElement}function Oe(e){const t=on(e);if(!pe(t))return de(1);const n=t.getBoundingClientRect(),{width:o,height:s,$:i}=nn(t);let l=(i?Xe(n.width):n.width)/o,a=(i?Xe(n.height):n.height)/s;return(!l||!Number.isFinite(l))&&(l=1),(!a||!Number.isFinite(a))&&(a=1),{x:l,y:a}}const ao=de(0);function sn(e){const t=te(e);return!bt()||!t.visualViewport?ao:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function ro(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==te(e)?!1:t}function je(e,t,n,o){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),i=on(e);let l=de(1);t&&(o?le(o)&&(l=Oe(o)):l=Oe(e));const a=ro(i,n,o)?sn(i):de(0);let r=(s.left+a.x)/l.x,c=(s.top+a.y)/l.y,u=s.width/l.x,d=s.height/l.y;if(i){const f=te(i),h=o&&le(o)?te(o):o;let x=f,b=it(x);for(;b&&o&&h!==x;){const O=Oe(b),C=b.getBoundingClientRect(),m=ie(b),A=C.left+(b.clientLeft+parseFloat(m.paddingLeft))*O.x,S=C.top+(b.clientTop+parseFloat(m.paddingTop))*O.y;r*=O.x,c*=O.y,u*=O.x,d*=O.y,r+=A,c+=S,x=te(b),b=it(x)}}return Je({width:u,height:d,x:r,y:c})}function wt(e,t){const n=et(e).scrollLeft;return t?t.left+n:je(_e(e)).left+n}function ln(e,t,n){n===void 0&&(n=!1);const o=e.getBoundingClientRect(),s=o.left+t.scrollLeft-(n?0:wt(e,o)),i=o.top+t.scrollTop;return{x:s,y:i}}function co(e){let{elements:t,rect:n,offsetParent:o,strategy:s}=e;const i=s==="fixed",l=_e(o),a=t?Ze(t.floating):!1;if(o===l||a&&i)return n;let r={scrollLeft:0,scrollTop:0},c=de(1);const u=de(0),d=pe(o);if((d||!d&&!i)&&(($e(o)!=="body"||Ke(l))&&(r=et(o)),pe(o))){const h=je(o);c=Oe(o),u.x=h.x+o.clientLeft,u.y=h.y+o.clientTop}const f=l&&!d&&!i?ln(l,r,!0):de(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-r.scrollLeft*c.x+u.x+f.x,y:n.y*c.y-r.scrollTop*c.y+u.y+f.y}}function uo(e){return Array.from(e.getClientRects())}function fo(e){const t=_e(e),n=et(e),o=e.ownerDocument.body,s=Ne(t.scrollWidth,t.clientWidth,o.scrollWidth,o.clientWidth),i=Ne(t.scrollHeight,t.clientHeight,o.scrollHeight,o.clientHeight);let l=-n.scrollLeft+wt(e);const a=-n.scrollTop;return ie(o).direction==="rtl"&&(l+=Ne(t.clientWidth,o.clientWidth)-s),{width:s,height:i,x:l,y:a}}function po(e,t){const n=te(e),o=_e(e),s=n.visualViewport;let i=o.clientWidth,l=o.clientHeight,a=0,r=0;if(s){i=s.width,l=s.height;const c=bt();(!c||c&&t==="fixed")&&(a=s.offsetLeft,r=s.offsetTop)}return{width:i,height:l,x:a,y:r}}function vo(e,t){const n=je(e,!0,t==="fixed"),o=n.top+e.clientTop,s=n.left+e.clientLeft,i=pe(e)?Oe(e):de(1),l=e.clientWidth*i.x,a=e.clientHeight*i.y,r=s*i.x,c=o*i.y;return{width:l,height:a,x:r,y:c}}function Lt(e,t,n){let o;if(t==="viewport")o=po(e,n);else if(t==="document")o=fo(_e(e));else if(le(t))o=vo(t,n);else{const s=sn(e);o={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Je(o)}function an(e,t){const n=we(e);return n===t||!le(n)||Fe(n)?!1:ie(n).position==="fixed"||an(n,t)}function ho(e,t){const n=t.get(e);if(n)return n;let o=lt(e,[],!1).filter(a=>le(a)&&$e(a)!=="body"),s=null;const i=ie(e).position==="fixed";let l=i?we(e):e;for(;le(l)&&!Fe(l);){const a=ie(l),r=yt(l);!r&&a.position==="fixed"&&(s=null),(i?!r&&!s:!r&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Ke(l)&&!r&&an(e,l))?o=o.filter(u=>u!==l):s=a,l=we(l)}return t.set(e,o),o}function mo(e){let{element:t,boundary:n,rootBoundary:o,strategy:s}=e;const l=[...n==="clippingAncestors"?Ze(t)?[]:ho(t,this._c):[].concat(n),o],a=l[0],r=l.reduce((c,u)=>{const d=Lt(t,u,s);return c.top=Ne(d.top,c.top),c.right=Tt(d.right,c.right),c.bottom=Tt(d.bottom,c.bottom),c.left=Ne(d.left,c.left),c},Lt(t,a,s));return{width:r.right-r.left,height:r.bottom-r.top,x:r.left,y:r.top}}function go(e){const{width:t,height:n}=nn(e);return{width:t,height:n}}function _o(e,t,n){const o=pe(t),s=_e(t),i=n==="fixed",l=je(e,!0,i,t);let a={scrollLeft:0,scrollTop:0};const r=de(0);if(o||!o&&!i)if(($e(t)!=="body"||Ke(s))&&(a=et(t)),o){const f=je(t,!0,i,t);r.x=f.x+t.clientLeft,r.y=f.y+t.clientTop}else s&&(r.x=wt(s));const c=s&&!o&&!i?ln(s,a):de(0),u=l.left+a.scrollLeft-r.x-c.x,d=l.top+a.scrollTop-r.y-c.y;return{x:u,y:d,width:l.width,height:l.height}}function nt(e){return ie(e).position==="static"}function Pt(e,t){if(!pe(e)||ie(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return _e(e)===n&&(n=n.ownerDocument.body),n}function rn(e,t){const n=te(e);if(Ze(e))return n;if(!pe(e)){let s=we(e);for(;s&&!Fe(s);){if(le(s)&&!nt(s))return s;s=we(s)}return n}let o=Pt(e,t);for(;o&&lo(o)&&nt(o);)o=Pt(o,t);return o&&Fe(o)&&nt(o)&&!yt(o)?n:o||io(e)||n}const yo=async function(e){const t=this.getOffsetParent||rn,n=this.getDimensions,o=await n(e.floating);return{reference:_o(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function bo(e){return ie(e).direction==="rtl"}const wo={convertOffsetParentRelativeRectToViewportRelativeRect:co,getDocumentElement:_e,getClippingRect:mo,getOffsetParent:rn,getElementRects:yo,getClientRects:uo,getDimensions:go,getScale:Oe,isElement:le,isRTL:bo},ko=so,xo=(e,t,n)=>{const o=new Map,s={platform:wo,...n},i={...s.platform,_c:o};return to(e,t,{...s,platform:i})};function So(e){return e!=null&&typeof e=="object"&&"$el"in e}function Vt(e){if(So(e)){const t=e.$el;return _t(t)&&$e(t)==="#comment"?null:t}return e}function We(e){return typeof e=="function"?e():T(e)}function cn(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Dt(e,t){const n=cn(e);return Math.round(t*n)/n}function Io(e,t,n){n===void 0&&(n={});const o=n.whileElementsMounted,s=M(()=>{var k;return(k=We(n.open))!=null?k:!0}),i=M(()=>We(n.middleware)),l=M(()=>{var k;return(k=We(n.placement))!=null?k:"bottom"}),a=M(()=>{var k;return(k=We(n.strategy))!=null?k:"absolute"}),r=M(()=>{var k;return(k=We(n.transform))!=null?k:!0}),c=M(()=>Vt(e.value)),u=M(()=>Vt(t.value)),d=L(0),f=L(0),h=L(a.value),x=L(l.value),b=Ht({}),O=L(!1),C=M(()=>{const k={position:h.value,left:"0",top:"0"};if(!u.value)return k;const I=Dt(u.value,d.value),p=Dt(u.value,f.value);return r.value?{...k,transform:"translate("+I+"px, "+p+"px)",...cn(u.value)>=1.5&&{willChange:"transform"}}:{position:h.value,left:I+"px",top:p+"px"}});let m;function A(){if(c.value==null||u.value==null)return;const k=s.value;xo(c.value,u.value,{middleware:i.value,placement:l.value,strategy:a.value}).then(I=>{d.value=I.x,f.value=I.y,h.value=I.strategy,x.value=I.placement,b.value=I.middlewareData,O.value=k!==!1})}function S(){typeof m=="function"&&(m(),m=void 0)}function _(){if(S(),o===void 0){A();return}if(c.value!=null&&u.value!=null){m=o(c.value,u.value,A);return}}function $(){s.value||(O.value=!1)}return he([i,l,a,s],A,{flush:"sync"}),he([c,u],_,{flush:"sync"}),he(s,$,{flush:"sync"}),kn()&&xn(S),{x:Ae(d),y:Ae(f),strategy:Ae(h),placement:Ae(x),middlewareData:Ae(b),isPositioned:Ae(O),floatingStyles:C,update:A}}function Eo(e){const t=L(!1);function n(){t.value=!0}function o(s){const i=s.currentTarget;document.hasFocus()?i.contains(s.relatedTarget)||(t.value=!1):window.addEventListener("focus",function l(){window.removeEventListener("focus",l),i.isConnected&&!i.contains(document.activeElement)&&(t.value=!1)})}return he(e,(s,i)=>{i&&(i.removeEventListener("focusin",n),i.removeEventListener("focusout",o)),e&&(e.value.addEventListener("focusin",n),e.value.addEventListener("focusout",o))}),Re(()=>{e.value.removeEventListener("focusin",n),e.value.removeEventListener("focusout",o)}),Sn(t)}const Co={key:0,class:"material-symbols-outlined"},$o={class:"BuilderSelect__trigger__label"},Bo={class:"BuilderSelect__trigger__arrow"},Mo={class:"material-symbols-outlined"},Ao=Y({__name:"BuilderSelect",props:Yt({options:{type:Array,default:()=>[]},defaultIcon:{type:String,required:!1,default:void 0},hideIcons:{type:Boolean,required:!1},enableSearch:{type:Boolean,required:!1}},{modelValue:{type:String,required:!1},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=vt(()=>ht(()=>import("./WdsDropdownMenu-CDR2sIpc.js"),__vite__mapDeps([0,1,2,3]),import.meta.url)),n=e,o=Xt(e,"modelValue"),s=L(!1),i=L(),l=L(),{floatingStyles:a,update:r}=Io(i,l,{placement:"bottom",middleware:[ko({allowedPlacements:["bottom","top"]})]}),c=M(()=>s.value?"keyboard_arrow_up":"expand_more"),u=M(()=>n.options.find(b=>b.value===o.value)),d=M(()=>{var b;return((b=u.value)==null?void 0:b.label)??""}),f=M(()=>{var b;return n.hideIcons?"":((b=u.value)==null?void 0:b.icon)??n.defaultIcon??"help_center"}),h=Eo(i);he(h,()=>{h.value||fe().then(()=>s.value=!1)},{immediate:!0});function x(b){s.value=!1,o.value=b}return(b,O)=>(g(),E("div",{ref_key:"trigger",ref:i,class:"BuilderSelect"},[w("button",{class:"BuilderSelect__trigger",role:"button",onClick:O[0]||(O[0]=C=>s.value=!s.value)},[e.hideIcons?B("",!0):(g(),E("i",Co,H(f.value),1)),w("div",$o,H(d.value),1),w("div",Bo,[w("i",Mo,H(c.value),1)])]),s.value?(g(),V(T(t),{key:0,ref_key:"dropdown",ref:l,"enable-search":e.enableSearch,options:e.options,selected:o.value,style:In(T(a)),onSelect:x,onSearch:T(r)},null,8,["enable-search","options","selected","style","onSearch"])):B("",!0)],512))}}),kt=X(Ao,[["__scopeId","data-v-e164bcbd"]]);function me(e){return Array.isArray?Array.isArray(e):fn(e)==="[object Array]"}const To=1/0;function Oo(e){if(typeof e=="string")return e;let t=e+"";return t=="0"&&1/e==-To?"-0":t}function Fo(e){return e==null?"":Oo(e)}function ue(e){return typeof e=="string"}function un(e){return typeof e=="number"}function Ro(e){return e===!0||e===!1||Lo(e)&&fn(e)=="[object Boolean]"}function dn(e){return typeof e=="object"}function Lo(e){return dn(e)&&e!==null}function ee(e){return e!=null}function ot(e){return!e.trim().length}function fn(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const Po="Incorrect 'index' type",Vo=e=>`Invalid value for key ${e}`,Do=e=>`Pattern length exceeds max of ${e}.`,Wo=e=>`Missing ${e} property in key`,No=e=>`Property 'weight' in key '${e}' must be a positive integer`,Wt=Object.prototype.hasOwnProperty;class jo{constructor(t){this._keys=[],this._keyMap={};let n=0;t.forEach(o=>{let s=pn(o);this._keys.push(s),this._keyMap[s.id]=s,n+=s.weight}),this._keys.forEach(o=>{o.weight/=n})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function pn(e){let t=null,n=null,o=null,s=1,i=null;if(ue(e)||me(e))o=e,t=Nt(e),n=at(e);else{if(!Wt.call(e,"name"))throw new Error(Wo("name"));const l=e.name;if(o=l,Wt.call(e,"weight")&&(s=e.weight,s<=0))throw new Error(No(l));t=Nt(l),n=at(l),i=e.getFn}return{path:t,id:n,weight:s,src:o,getFn:i}}function Nt(e){return me(e)?e:e.split(".")}function at(e){return me(e)?e.join("."):e}function Ko(e,t){let n=[],o=!1;const s=(i,l,a)=>{if(ee(i))if(!l[a])n.push(i);else{let r=l[a];const c=i[r];if(!ee(c))return;if(a===l.length-1&&(ue(c)||un(c)||Ro(c)))n.push(Fo(c));else if(me(c)){o=!0;for(let u=0,d=c.length;u<d;u+=1)s(c[u],l,a+1)}else l.length&&s(c,l,a+1)}};return s(e,ue(t)?t.split("."):t,0),o?n:n[0]}const Uo={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},zo={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},Ho={location:0,threshold:.6,distance:100},Yo={useExtendedSearch:!1,getFn:Ko,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var P={...zo,...Uo,...Ho,...Yo};const Xo=/[^ ]+/g;function Jo(e=1,t=3){const n=new Map,o=Math.pow(10,t);return{get(s){const i=s.match(Xo).length;if(n.has(i))return n.get(i);const l=1/Math.pow(i,.5*e),a=parseFloat(Math.round(l*o)/o);return n.set(i,a),a},clear(){n.clear()}}}class xt{constructor({getFn:t=P.getFn,fieldNormWeight:n=P.fieldNormWeight}={}){this.norm=Jo(n,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((n,o)=>{this._keysMap[n.id]=o})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,ue(this.docs[0])?this.docs.forEach((t,n)=>{this._addString(t,n)}):this.docs.forEach((t,n)=>{this._addObject(t,n)}),this.norm.clear())}add(t){const n=this.size();ue(t)?this._addString(t,n):this._addObject(t,n)}removeAt(t){this.records.splice(t,1);for(let n=t,o=this.size();n<o;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(t,n){return t[this._keysMap[n]]}size(){return this.records.length}_addString(t,n){if(!ee(t)||ot(t))return;let o={v:t,i:n,n:this.norm.get(t)};this.records.push(o)}_addObject(t,n){let o={i:n,$:{}};this.keys.forEach((s,i)=>{let l=s.getFn?s.getFn(t):this.getFn(t,s.path);if(ee(l)){if(me(l)){let a=[];const r=[{nestedArrIndex:-1,value:l}];for(;r.length;){const{nestedArrIndex:c,value:u}=r.pop();if(ee(u))if(ue(u)&&!ot(u)){let d={v:u,i:c,n:this.norm.get(u)};a.push(d)}else me(u)&&u.forEach((d,f)=>{r.push({nestedArrIndex:f,value:d})})}o.$[i]=a}else if(ue(l)&&!ot(l)){let a={v:l,n:this.norm.get(l)};o.$[i]=a}}}),this.records.push(o)}toJSON(){return{keys:this.keys,records:this.records}}}function vn(e,t,{getFn:n=P.getFn,fieldNormWeight:o=P.fieldNormWeight}={}){const s=new xt({getFn:n,fieldNormWeight:o});return s.setKeys(e.map(pn)),s.setSources(t),s.create(),s}function Go(e,{getFn:t=P.getFn,fieldNormWeight:n=P.fieldNormWeight}={}){const{keys:o,records:s}=e,i=new xt({getFn:t,fieldNormWeight:n});return i.setKeys(o),i.setIndexRecords(s),i}function Ye(e,{errors:t=0,currentLocation:n=0,expectedLocation:o=0,distance:s=P.distance,ignoreLocation:i=P.ignoreLocation}={}){const l=t/e.length;if(i)return l;const a=Math.abs(o-n);return s?l+a/s:a?1:l}function qo(e=[],t=P.minMatchCharLength){let n=[],o=-1,s=-1,i=0;for(let l=e.length;i<l;i+=1){let a=e[i];a&&o===-1?o=i:!a&&o!==-1&&(s=i-1,s-o+1>=t&&n.push([o,s]),o=-1)}return e[i-1]&&i-o>=t&&n.push([o,i-1]),n}const Se=32;function Qo(e,t,n,{location:o=P.location,distance:s=P.distance,threshold:i=P.threshold,findAllMatches:l=P.findAllMatches,minMatchCharLength:a=P.minMatchCharLength,includeMatches:r=P.includeMatches,ignoreLocation:c=P.ignoreLocation}={}){if(t.length>Se)throw new Error(Do(Se));const u=t.length,d=e.length,f=Math.max(0,Math.min(o,d));let h=i,x=f;const b=a>1||r,O=b?Array(d):[];let C;for(;(C=e.indexOf(t,x))>-1;){let k=Ye(t,{currentLocation:C,expectedLocation:f,distance:s,ignoreLocation:c});if(h=Math.min(k,h),x=C+u,b){let I=0;for(;I<u;)O[C+I]=1,I+=1}}x=-1;let m=[],A=1,S=u+d;const _=1<<u-1;for(let k=0;k<u;k+=1){let I=0,p=S;for(;I<p;)Ye(t,{errors:k,currentLocation:f+p,expectedLocation:f,distance:s,ignoreLocation:c})<=h?I=p:S=p,p=Math.floor((S-I)/2+I);S=p;let v=Math.max(1,f-p+1),y=l?d:Math.min(f+p,d)+u,F=Array(y+2);F[y+1]=(1<<k)-1;for(let K=y;K>=v;K-=1){let z=K-1,ye=n[e.charAt(z)];if(b&&(O[z]=+!!ye),F[K]=(F[K+1]<<1|1)&ye,k&&(F[K]|=(m[K+1]|m[K])<<1|1|m[K+1]),F[K]&_&&(A=Ye(t,{errors:k,currentLocation:z,expectedLocation:f,distance:s,ignoreLocation:c}),A<=h)){if(h=A,x=z,x<=f)break;v=Math.max(1,2*f-x)}}if(Ye(t,{errors:k+1,currentLocation:f,expectedLocation:f,distance:s,ignoreLocation:c})>h)break;m=F}const $={isMatch:x>=0,score:Math.max(.001,A)};if(b){const k=qo(O,a);k.length?r&&($.indices=k):$.isMatch=!1}return $}function Zo(e){let t={};for(let n=0,o=e.length;n<o;n+=1){const s=e.charAt(n);t[s]=(t[s]||0)|1<<o-n-1}return t}class hn{constructor(t,{location:n=P.location,threshold:o=P.threshold,distance:s=P.distance,includeMatches:i=P.includeMatches,findAllMatches:l=P.findAllMatches,minMatchCharLength:a=P.minMatchCharLength,isCaseSensitive:r=P.isCaseSensitive,ignoreLocation:c=P.ignoreLocation}={}){if(this.options={location:n,threshold:o,distance:s,includeMatches:i,findAllMatches:l,minMatchCharLength:a,isCaseSensitive:r,ignoreLocation:c},this.pattern=r?t:t.toLowerCase(),this.chunks=[],!this.pattern.length)return;const u=(f,h)=>{this.chunks.push({pattern:f,alphabet:Zo(f),startIndex:h})},d=this.pattern.length;if(d>Se){let f=0;const h=d%Se,x=d-h;for(;f<x;)u(this.pattern.substr(f,Se),f),f+=Se;if(h){const b=d-Se;u(this.pattern.substr(b),b)}}else u(this.pattern,0)}searchIn(t){const{isCaseSensitive:n,includeMatches:o}=this.options;if(n||(t=t.toLowerCase()),this.pattern===t){let x={isMatch:!0,score:0};return o&&(x.indices=[[0,t.length-1]]),x}const{location:s,distance:i,threshold:l,findAllMatches:a,minMatchCharLength:r,ignoreLocation:c}=this.options;let u=[],d=0,f=!1;this.chunks.forEach(({pattern:x,alphabet:b,startIndex:O})=>{const{isMatch:C,score:m,indices:A}=Qo(t,x,b,{location:s+O,distance:i,threshold:l,findAllMatches:a,minMatchCharLength:r,includeMatches:o,ignoreLocation:c});C&&(f=!0),d+=m,C&&A&&(u=[...u,...A])});let h={isMatch:f,score:f?d/this.chunks.length:1};return f&&o&&(h.indices=u),h}}class xe{constructor(t){this.pattern=t}static isMultiMatch(t){return jt(t,this.multiRegex)}static isSingleMatch(t){return jt(t,this.singleRegex)}search(){}}function jt(e,t){const n=e.match(t);return n?n[1]:null}class es extends xe{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const n=t===this.pattern;return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class ts extends xe{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const o=t.indexOf(this.pattern)===-1;return{isMatch:o,score:o?0:1,indices:[0,t.length-1]}}}class ns extends xe{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const n=t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class os extends xe{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const n=!t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class ss extends xe{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const n=t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class ls extends xe{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const n=!t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class mn extends xe{constructor(t,{location:n=P.location,threshold:o=P.threshold,distance:s=P.distance,includeMatches:i=P.includeMatches,findAllMatches:l=P.findAllMatches,minMatchCharLength:a=P.minMatchCharLength,isCaseSensitive:r=P.isCaseSensitive,ignoreLocation:c=P.ignoreLocation}={}){super(t),this._bitapSearch=new hn(t,{location:n,threshold:o,distance:s,includeMatches:i,findAllMatches:l,minMatchCharLength:a,isCaseSensitive:r,ignoreLocation:c})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class gn extends xe{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let n=0,o;const s=[],i=this.pattern.length;for(;(o=t.indexOf(this.pattern,n))>-1;)n=o+i,s.push([o,n-1]);const l=!!s.length;return{isMatch:l,score:l?0:1,indices:s}}}const rt=[es,gn,ns,os,ls,ss,ts,mn],Kt=rt.length,is=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,as="|";function rs(e,t={}){return e.split(as).map(n=>{let o=n.trim().split(is).filter(i=>i&&!!i.trim()),s=[];for(let i=0,l=o.length;i<l;i+=1){const a=o[i];let r=!1,c=-1;for(;!r&&++c<Kt;){const u=rt[c];let d=u.isMultiMatch(a);d&&(s.push(new u(d,t)),r=!0)}if(!r)for(c=-1;++c<Kt;){const u=rt[c];let d=u.isSingleMatch(a);if(d){s.push(new u(d,t));break}}}return s})}const cs=new Set([mn.type,gn.type]);class us{constructor(t,{isCaseSensitive:n=P.isCaseSensitive,includeMatches:o=P.includeMatches,minMatchCharLength:s=P.minMatchCharLength,ignoreLocation:i=P.ignoreLocation,findAllMatches:l=P.findAllMatches,location:a=P.location,threshold:r=P.threshold,distance:c=P.distance}={}){this.query=null,this.options={isCaseSensitive:n,includeMatches:o,minMatchCharLength:s,findAllMatches:l,ignoreLocation:i,location:a,threshold:r,distance:c},this.pattern=n?t:t.toLowerCase(),this.query=rs(this.pattern,this.options)}static condition(t,n){return n.useExtendedSearch}searchIn(t){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:o,isCaseSensitive:s}=this.options;t=s?t:t.toLowerCase();let i=0,l=[],a=0;for(let r=0,c=n.length;r<c;r+=1){const u=n[r];l.length=0,i=0;for(let d=0,f=u.length;d<f;d+=1){const h=u[d],{isMatch:x,indices:b,score:O}=h.search(t);if(x){if(i+=1,a+=O,o){const C=h.constructor.type;cs.has(C)?l=[...l,...b]:l.push(b)}}else{a=0,i=0,l.length=0;break}}if(i){let d={isMatch:!0,score:a/i};return o&&(d.indices=l),d}}return{isMatch:!1,score:1}}}const ct=[];function ds(...e){ct.push(...e)}function ut(e,t){for(let n=0,o=ct.length;n<o;n+=1){let s=ct[n];if(s.condition(e,t))return new s(e,t)}return new hn(e,t)}const Ge={AND:"$and",OR:"$or"},dt={PATH:"$path",PATTERN:"$val"},ft=e=>!!(e[Ge.AND]||e[Ge.OR]),fs=e=>!!e[dt.PATH],ps=e=>!me(e)&&dn(e)&&!ft(e),Ut=e=>({[Ge.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function _n(e,t,{auto:n=!0}={}){const o=s=>{let i=Object.keys(s);const l=fs(s);if(!l&&i.length>1&&!ft(s))return o(Ut(s));if(ps(s)){const r=l?s[dt.PATH]:i[0],c=l?s[dt.PATTERN]:s[r];if(!ue(c))throw new Error(Vo(r));const u={keyId:at(r),pattern:c};return n&&(u.searcher=ut(c,t)),u}let a={children:[],operator:i[0]};return i.forEach(r=>{const c=s[r];me(c)&&c.forEach(u=>{a.children.push(o(u))})}),a};return ft(e)||(e=Ut(e)),o(e)}function vs(e,{ignoreFieldNorm:t=P.ignoreFieldNorm}){e.forEach(n=>{let o=1;n.matches.forEach(({key:s,norm:i,score:l})=>{const a=s?s.weight:null;o*=Math.pow(l===0&&a?Number.EPSILON:l,(a||1)*(t?1:i))}),n.score=o})}function hs(e,t){const n=e.matches;t.matches=[],ee(n)&&n.forEach(o=>{if(!ee(o.indices)||!o.indices.length)return;const{indices:s,value:i}=o;let l={indices:s,value:i};o.key&&(l.key=o.key.src),o.idx>-1&&(l.refIndex=o.idx),t.matches.push(l)})}function ms(e,t){t.score=e.score}function gs(e,t,{includeMatches:n=P.includeMatches,includeScore:o=P.includeScore}={}){const s=[];return n&&s.push(hs),o&&s.push(ms),e.map(i=>{const{idx:l}=i,a={item:t[l],refIndex:l};return s.length&&s.forEach(r=>{r(i,a)}),a})}class Le{constructor(t,n={},o){this.options={...P,...n},this.options.useExtendedSearch,this._keyStore=new jo(this.options.keys),this.setCollection(t,o)}setCollection(t,n){if(this._docs=t,n&&!(n instanceof xt))throw new Error(Po);this._myIndex=n||vn(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){ee(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const n=[];for(let o=0,s=this._docs.length;o<s;o+=1){const i=this._docs[o];t(i,o)&&(this.removeAt(o),o-=1,s-=1,n.push(i))}return n}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:n=-1}={}){const{includeMatches:o,includeScore:s,shouldSort:i,sortFn:l,ignoreFieldNorm:a}=this.options;let r=ue(t)?ue(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return vs(r,{ignoreFieldNorm:a}),i&&r.sort(l),un(n)&&n>-1&&(r=r.slice(0,n)),gs(r,this._docs,{includeMatches:o,includeScore:s})}_searchStringList(t){const n=ut(t,this.options),{records:o}=this._myIndex,s=[];return o.forEach(({v:i,i:l,n:a})=>{if(!ee(i))return;const{isMatch:r,score:c,indices:u}=n.searchIn(i);r&&s.push({item:i,idx:l,matches:[{score:c,value:i,norm:a,indices:u}]})}),s}_searchLogical(t){const n=_n(t,this.options),o=(a,r,c)=>{if(!a.children){const{keyId:d,searcher:f}=a,h=this._findMatches({key:this._keyStore.get(d),value:this._myIndex.getValueForItemAtKeyId(r,d),searcher:f});return h&&h.length?[{idx:c,item:r,matches:h}]:[]}const u=[];for(let d=0,f=a.children.length;d<f;d+=1){const h=a.children[d],x=o(h,r,c);if(x.length)u.push(...x);else if(a.operator===Ge.AND)return[]}return u},s=this._myIndex.records,i={},l=[];return s.forEach(({$:a,i:r})=>{if(ee(a)){let c=o(n,a,r);c.length&&(i[r]||(i[r]={idx:r,item:a,matches:[]},l.push(i[r])),c.forEach(({matches:u})=>{i[r].matches.push(...u)}))}}),l}_searchObjectList(t){const n=ut(t,this.options),{keys:o,records:s}=this._myIndex,i=[];return s.forEach(({$:l,i:a})=>{if(!ee(l))return;let r=[];o.forEach((c,u)=>{r.push(...this._findMatches({key:c,value:l[u],searcher:n}))}),r.length&&i.push({idx:a,item:l,matches:r})}),i}_findMatches({key:t,value:n,searcher:o}){if(!ee(n))return[];let s=[];if(me(n))n.forEach(({v:i,i:l,n:a})=>{if(!ee(i))return;const{isMatch:r,score:c,indices:u}=o.searchIn(i);r&&s.push({score:c,key:t,value:i,idx:l,norm:a,indices:u})});else{const{v:i,n:l}=n,{isMatch:a,score:r,indices:c}=o.searchIn(i);a&&s.push({score:r,key:t,value:i,norm:l,indices:c})}return s}}Le.version="7.0.0";Le.createIndex=vn;Le.parseIndex=Go;Le.config=P;Le.parseQuery=_n;ds(us);const _s={class:"BuilderTemplateInput"},ys=["id"],bs=["value"],ws={key:2,class:"fieldStateAutocomplete",tabindex:"-1"},ks=["value","onClick"],xs={class:"prop"},Ss={class:"type"},Is=Y({__name:"BuilderTemplateInput",props:{inputId:{type:String,required:!1,default:void 0},value:{type:String,required:!1,default:void 0},multiline:{type:Boolean,required:!1},variant:{type:String,required:!1,default:void 0},type:{type:String,required:!1,default:void 0},options:{type:Object,required:!1,default:void 0},placeholder:{type:String,required:!1,default:void 0}},emits:["input","update:value"],setup(e,{expose:t,emit:n}){const o=n,s=e,i=D(W.core),l=Ht([]),a=L(null);t({focus:()=>{var m;return(m=a.value)==null?void 0:m.focus()}});function r(m,A){return A.reduce((S,_)=>S==null?void 0:S[_],m)}const c=m=>{var y,F;let A=((y=a.value)==null?void 0:y.value)??"";const{selectionStart:S,selectionEnd:_}=((F=a.value)==null?void 0:F.getSelection())??{},$=A.slice(0,S),k=d($);if(k===null)return;const p=k.at(-1).replace(/[.*+?^${}()|[\]\\]/g,"\\$&")+"$",v=$.replace(new RegExp(p),m);A=v+A.slice(_),o("input",{target:{value:A}}),o("update:value",A),l.value=[],a.value.focus(),fe(()=>{a.value.setSelectionEnd(v.length),a.value.setSelectionStart(v.length)})},u=m=>m===null?"null":m===void 0?"undefined":typeof m,d=m=>{if((s.type??"template")==="state")return m.split(".");const A=m.match(/@\{([^}{@]*)$/);return A?((A==null?void 0:A[1])??"").split("."):null},f=m=>m.replace(/\\/g,"\\\\").replace(/\./g,"\\."),h=m=>{o("input",m),o("update:value",m.target.value),x()},x=()=>{var F,j;const{selectionStart:m,selectionEnd:A}=((F=a.value)==null?void 0:F.getSelection())??{},S=(j=a.value)==null?void 0:j.value;if(!(m===A)){l.value=[];return}const $=S.slice(0,m),k=d($);if(k===null){l.value=[];return}const I=k.at(-1),p=k.slice(0,-1),v=Object.entries(r(i.userState.value,p)??{}).map(([K,z])=>({text:f(K),type:u(z)})),y=new Le(v,{findAllMatches:!0,includeMatches:!0,keys:["text"]});if(I===""){l.value=v;return}l.value=y.search(I).map(K=>{const{item:z}=K;return z})};let b;function O(){b=setTimeout(()=>{l.value=[],b=null},300)}function C(){b&&(clearTimeout(b),b=null)}return(m,A)=>{const S=Jt("capture-tabs");return g(),E("div",_s,[s.multiline?B("",!0):(g(),E(G,{key:0},[R(ce,{ref_key:"input",ref:a,"model-value":s.value,autocorrect:"off",autocomplete:"off",spellcheck:"false",placeholder:s.placeholder,list:s.options?`list-${s.inputId}`:void 0,onInput:h,onBlur:O},null,8,["model-value","placeholder","list"]),s.options?(g(),E("datalist",{key:0,id:`list-${s.inputId}`},[(g(!0),E(G,null,be(e.options,(_,$)=>(g(),E("option",{key:$,value:$},[_.toLowerCase()!==$.toLowerCase()?(g(),E(G,{key:0},[q(H(_),1)],64)):B("",!0)],8,bs))),128))],8,ys)):B("",!0)],64)),s.multiline?Te((g(),V(Gt,{key:1,ref_key:"input",ref:a,variant:s.variant,"model-value":s.value,autocorrect:"off",autocomplete:"off",spellcheck:"false",rows:"3",placeholder:s.placeholder,onInput:h},null,8,["variant","model-value","placeholder"])),[[S]]):B("",!0),l.value.length?(g(),E("div",ws,[(g(!0),E(G,null,be(l.value,(_,$)=>(g(),E("button",{key:$,class:"fieldStateAutocompleteOption",value:$,onFocusout:O,onFocusin:C,onClick:()=>c(_.text)},[w("span",xs,H(_.text),1),w("span",Ss,H(_.type),1)],40,ks))),128))])):B("",!0)])}}}),oe=X(Is,[["__scopeId","data-v-cb62fd65"]]),Es=Y({__name:"WdsTab",props:{disabled:{type:Boolean},selected:{type:Boolean}},emits:{click:()=>!0},setup(e){return(t,n)=>(g(),E("button",{class:pt(["WdsTab",{"WdsTab--disabled":e.disabled,"WdsTab--selected":e.selected}]),type:"button",onClick:n[0]||(n[0]=o=>t.$emit("click"))},[mt(t.$slots,"default",{},void 0,!0)],2))}}),Cs=X(Es,[["__scopeId","data-v-333dd4cb"]]),$s={class:"WdsTabs"},Bs=Y({__name:"WdsTabs",props:Yt({tabs:{type:Array,required:!0}},{modelValue:{type:String},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=Xt(e,"modelValue");return(n,o)=>(g(),E("div",$s,[(g(!0),E(G,null,be(e.tabs,s=>(g(),V(Cs,{key:s.value,disabled:s.disabled,selected:s.value===t.value,onClick:i=>t.value=s.value},{default:N(()=>[q(H(s.label),1)]),_:2},1032,["disabled","selected","onClick"]))),128))]))}}),Be=X(Bs,[["__scopeId","data-v-a5ab221c"]]),Ue=Object.freeze([{label:"Default",value:"default"},{label:"CSS",value:"css"},{label:"Pick",value:"pick"}]),Ms=["data-automation-key"],As={key:0,class:"main"},Ts={key:0,class:"pickerContainer"},Os=Y({__name:"BuilderFieldsAlign",props:{componentId:{},fieldKey:{},direction:{}},setup(e){const t=D(W.core),n=D(W.builderManager),{setContentValue:o}=se(t,n),s=L(null),i=L(null),l=L(null),a=[{key:"start",label:"Left",match:p=>p=="start",default:"start",icon:"format_align_left"},{key:"center",label:"Center",match:p=>p=="center",default:"center",icon:"format_align_center"},{key:"end",label:"Right",match:p=>p=="end",default:"end",icon:"format_align_right"}],r=[{key:"start",label:"Top",match:p=>p=="start",default:"start",icon:"vertical_align_top"},{key:"center",label:"Center",match:p=>p=="center",default:"center",icon:"vertical_align_center"},{key:"end",label:"Bottom",match:p=>p=="end",default:"end",icon:"vertical_align_bottom"}],c={pick:i,css:l,default:null},u=e,{componentId:d,fieldKey:f,direction:h}=ge(u),x=M(()=>t.getComponentById(d.value)),b=M(()=>h.value=="vertical"?r:h.value=="horizontal"?a:r),O=M(()=>b.value.map(p=>({value:p.key,label:p.label,icon:p.icon}))),C=M(()=>{const p=x.value.content[f.value];for(const v in b.value)if(p&&b.value[v].match(p))return b.value[v].key;return null}),m=M(()=>{const p=x.value.content[f.value];return p||""}),S=L((()=>{if(!m.value)return"default";for(const p in b.value)if(b.value[p].match(m.value))return"pick";return"css"})()),_=()=>{var v;const p=(v=c[S.value])==null?void 0:v.value;p&&(p.focus(),typeof p.selectionStart=="number"&&(p.selectionStart=p.selectionEnd=p.value.length))},$=async p=>{S.value!=p&&(S.value=p,await fe(),_(),p==="default"&&o(x.value.id,f.value,void 0))},k=p=>{for(const v in b.value)if(b.value[v].key==p){const y=b.value[v].default;x.value.content[f.value]=y,o(x.value.id,f.value,y)}},I=p=>{o(x.value.id,f.value,p.target.value)};return Ce(()=>{s.value.addEventListener("focus",_)}),Re(()=>{s.value.removeEventListener("focus",_)}),(p,v)=>(g(),E("div",{ref_key:"rootEl",ref:s,class:"BuilderFieldsAlign",tabindex:"-1","data-automation-key":u.fieldKey},[R(Be,{tabs:T(Ue),"model-value":S.value,"onUpdate:modelValue":$},null,8,["tabs","model-value"]),S.value=="pick"||S.value=="css"?(g(),E("div",As,[S.value=="pick"?(g(),E("div",Ts,[R(kt,{"model-value":C.value,options:O.value,"onUpdate:modelValue":k},null,8,["model-value","options"])])):B("",!0),S.value=="css"?(g(),V(oe,{key:1,ref_key:"freehandInputEl",ref:l,value:x.value.content[T(f)],onInput:I},null,8,["value"])):B("",!0)])):B("",!0)],8,Ms))}}),zt=X(Os,[["__scopeId","data-v-d1f31c72"]]),Fs=["data-automation-key"],Rs={key:0,class:"main"},Ls={key:0,class:"pickerContainer"},Ps=["value"],Vs=Y({__name:"BuilderFieldsColor",props:{componentId:{},fieldKey:{}},setup(e){const t=D(W.core),n=D(W.builderManager),{setContentValue:o}=se(t,n),s=L(null),i=L(null),l=L(null),a={pick:i,css:l,default:null},r=e,{componentId:c,fieldKey:u}=ge(r),d=M(()=>t.getComponentById(c.value)),h=L((()=>{const C=d.value.content[u.value];return C?/#[A-Fa-f0-9]{6}/.test(C)?"pick":"css":"default"})()),x=()=>{var m;const C=(m=a[h.value])==null?void 0:m.value;C&&(C.focus(),typeof C.selectionStart=="number"&&(C.selectionStart=C.selectionEnd=C.value.length))},b=async C=>{h.value!=C&&(h.value=C,await fe(),x(),C==="default"&&o(d.value.id,u.value,void 0))},O=C=>o(d.value.id,u.value,C.target.value);return Ce(()=>{s.value.addEventListener("focus",x)}),Re(()=>{s.value.removeEventListener("focus",x)}),(C,m)=>(g(),E("div",{ref_key:"rootEl",ref:s,class:"BuilderFieldsColor",tabindex:"-1","data-automation-key":T(u)},[R(Be,{tabs:T(Ue),"model-value":h.value,"onUpdate:modelValue":b},null,8,["tabs","model-value"]),h.value=="pick"||h.value=="css"?(g(),E("div",Rs,[h.value=="pick"?(g(),E("div",Ls,[w("input",{ref_key:"pickerEl",ref:i,type:"color",value:d.value.content[T(u)],onInput:O},null,40,Ps)])):B("",!0),h.value=="css"?(g(),V(oe,{key:1,ref_key:"freehandInputEl",ref:l,value:d.value.content[T(u)],onInput:O},null,8,["value"])):B("",!0)])):B("",!0)],8,Fs))}}),Ds=X(Vs,[["__scopeId","data-v-90a5e86e"]]),Ws=Y({__name:"BuilderFieldsObject",props:{componentId:{},fieldKey:{}},setup(e){const t=D(W.core),n=D(W.builderManager),{setContentValue:o}=se(t,n),s=e,{componentId:i,fieldKey:l}=ge(s),a=M(()=>t.getComponentById(i.value)),r=u=>{o(a.value.id,l.value,u)},c=M(()=>{const{type:u}=a.value;return t.getComponentDefinition(u).fields[l.value]});return(u,d)=>{var f;return g(),V(oe,{class:"BuilderFieldsObject","data-automation-key":s.fieldKey,multiline:"",variant:"code",value:a.value.content[T(l)],placeholder:(f=c.value)==null?void 0:f.default,onInput:d[0]||(d[0]=h=>r(h.target.value))},null,8,["data-automation-key","value","placeholder"])}}}),yn=X(Ws,[["__scopeId","data-v-12a25686"]]),bn=e=>(ae("data-v-3a06e018"),e=e(),re(),e),Ns=["data-automation-key"],js={class:"staticList"},Ks=["onClick"],Us=bn(()=>w("i",{class:"material-symbols-outlined"},"delete",-1)),zs=[Us],Hs={class:"formAdd"},Ys=bn(()=>w("i",{class:"material-symbols-outlined"},"add",-1)),Xs=Y({__name:"BuilderFieldsKeyValue",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0},instancePath:{type:Array,required:!0}},setup(e){const t=D(W.core),n=D(W.builderManager),{setContentValue:o}=se(t,n),s=e,{componentId:i,fieldKey:l}=ge(s),a=M(()=>t.getComponentById(i.value)),r=L(null),c=L(null),u=L(null),d=L({}),f=L({key:"",value:""}),h=[{label:"Static List",value:"assisted"},{label:"JSON",value:"freehand"}],{getEvaluatedFields:x}=En(t),b=M(()=>x(s.instancePath)[l.value].value),O=async S=>{u.value!=S&&(u.value=S,u.value=="assisted"&&C(),await fe())},C=()=>{d.value=b.value??{}},m=()=>{const{key:S,value:_}=f.value;S===""||_===""||(d.value={...d.value,[S]:_},o(a.value.id,l.value,JSON.stringify(d.value,null,2)),f.value={key:"",value:""},c.value.focus())},A=S=>{const _=d.value;if(delete _[S],d.value=_,Object.keys(d.value).length==0){o(a.value.id,l.value,void 0);return}o(a.value.id,l.value,JSON.stringify(d.value,null,2))};return he(()=>{var S;return(S=a.value)==null?void 0:S.content[l.value]},async()=>{!a.value||!b.value||(d.value=b.value)}),Ce(async()=>{b.value?(d.value=b.value,O("assisted")):O("freehand")}),(S,_)=>(g(),E("div",{ref_key:"rootEl",ref:r,class:"BuilderFieldsOptions",tabindex:"-1","data-automation-key":s.fieldKey},[R(Be,{class:"BuilderFieldsOptions__tabs",tabs:h,"model-value":u.value,"onUpdate:modelValue":O},null,8,["model-value"]),u.value=="assisted"?(g(),E(G,{key:0},[w("div",js,[(g(!0),E(G,null,be(d.value,($,k)=>(g(),E("div",{key:k,class:"entry"},[w("div",null,H(k)+" · "+H($),1),w("button",{variant:"subtle",onClick:I=>A(k)},zs,8,Ks)]))),128))]),w("div",Hs,[R(oe,{ref_key:"assistedKeyEl",ref:c,class:"inputKey",placeholder:"Type a key...",value:f.value.key,"onUpdate:value":_[0]||(_[0]=$=>f.value.key=$),onKeydown:Ct(m,["enter"])},null,8,["value"]),R(oe,{class:"inputValue",placeholder:"Type a value...",value:f.value.value,"onUpdate:value":_[1]||(_[1]=$=>f.value.value=$),onKeydown:Ct(m,["enter"])},null,8,["value"]),w("button",{onClick:m},[Ys,q("Add ")])])],64)):B("",!0),u.value=="freehand"?(g(),V(yn,{key:1,"component-id":a.value.id,"field-key":T(l)},null,8,["component-id","field-key"])):B("",!0)],8,Ns))}}),Js=X(Xs,[["__scopeId","data-v-3a06e018"]]),Q=e=>(ae("data-v-e58406d4"),e=e(),re(),e),Gs=["data-automation-key"],qs={key:0,class:"main"},Qs={key:0,class:"pickerContainer"},Zs={class:"BuilderFieldsPadding__options"},el=Q(()=>w("i",null,"All",-1)),tl=Q(()=>w("div",null,"px",-1)),nl=Q(()=>w("i",null,"X",-1)),ol=Q(()=>w("div",null,"px",-1)),sl=Q(()=>w("i",null,"Y",-1)),ll=Q(()=>w("div",null,"px",-1)),il=Q(()=>w("i",null,"Left",-1)),al=Q(()=>w("div",null,"px",-1)),rl=Q(()=>w("i",null,"Right",-1)),cl=Q(()=>w("div",null,"px",-1)),ul=Q(()=>w("i",null,"Top",-1)),dl=Q(()=>w("div",null,"px",-1)),fl=Q(()=>w("i",null,"Bottom",-1)),pl=Q(()=>w("div",null,"px",-1)),vl=Y({__name:"BuilderFieldsPadding",props:{componentId:{},fieldKey:{}},setup(e){const t=D(W.core),n=D(W.builderManager),{setContentValue:o}=se(t,n),s=L(null),i=L(null),l=L(null),a=L(null),r=[{key:"all_sides",label:"All sides",match:v=>v.split(" ").length==1&&v.endsWith("px"),default:()=>m.value?m.value[0]:"0px"},{key:"XY sides",label:"XY sides",match:v=>v.split(" ").length==2&&v.endsWith("px"),default:()=>m.value?m.value[2]+" "+m.value[0]:"0px 0px"},{key:"Per side",label:"Per side",match:v=>v.split(" ").length==4&&v.endsWith("px"),default:()=>m.value?[m.value[3],m.value[1],m.value[2],m.value[0]].join(" "):"0px 0px 0px 0px"}],c={pick:i,css:a,default:null},u=e,{componentId:d,fieldKey:f}=ge(u),h=M(()=>t.getComponentById(d.value)),x=M(()=>r.map(v=>({value:v.key,label:v.label,icon:"padding"}))),b=M(()=>{const v=h.value.content[f.value];for(const y in r)if(v&&r[y].match(v))return r[y].key;return null}),O=M(()=>{const v=h.value.content[f.value];return v||""}),C=M(()=>{const v=m.value;return v?[v[0].substring(0,v[0].length-2),v[1].substring(0,v[1].length-2),v[2].substring(0,v[2].length-2),v[3].substring(0,v[3].length-2)]:["0","0","0","0"]}),m=M(()=>{const v=h.value.content[f.value];if(v){const y=v.split(" ");if(y.length==1&&y[0].endsWith("px"))return[y[0],y[0],y[0],y[0]];if(y.length==2&&y[0].endsWith("px")&&y[0].endsWith("px"))return[y[1],y[1],y[0],y[0]];if(y.length==4&&y[0].endsWith("px")&&y[1].endsWith("px")&&y[2].endsWith("px")&&y[3].endsWith("px"))return[y[3],y[1],y[0],y[2]]}else return null;return null}),S=L((()=>{if(!O.value)return"default";for(const v in r)if(r[v].match(O.value))return"pick";return"css"})()),_=()=>{var y;const v=(y=c[S.value])==null?void 0:y.value;v&&(v.focus(),typeof v.selectionStart=="number"&&(v.selectionStart=v.selectionEnd=v.value.length))},$=async v=>{S.value!=v&&(S.value=v,await fe(),_(),v==="default"&&o(h.value.id,f.value,void 0))},k=v=>{for(const y in r)if(r[y].key==v){const F=r[y].default();h.value.content[f.value]=F,o(h.value.id,f.value,F)}fe(()=>{var y;(y=l.value)==null||y.focus()})},I=v=>{o(h.value.id,f.value,v.target.value)},p=(v,y,F)=>{const j=Number(v),K=h.value.content[f.value];if(y=="all_sides")o(h.value.id,f.value,j+"px");else if(y=="XY sides"){const z=K.split(" ");F=="x"?z[1]=j+"px":F=="y"&&(z[0]=j+"px"),o(h.value.id,f.value,z.join(" "))}else if(y=="Per side"){const z=K.split(" ");F=="top"?z[0]=j+"px":F=="right"?z[1]=j+"px":F=="bottom"?z[2]=j+"px":F=="left"&&(z[3]=j+"px"),o(h.value.id,f.value,z.join(" "))}};return Ce(()=>{s.value.addEventListener("focus",_)}),Re(()=>{s.value.removeEventListener("focus",_)}),(v,y)=>(g(),E("div",{ref_key:"rootEl",ref:s,class:"BuilderFieldsPadding",tabindex:"-1","data-automation-key":u.fieldKey},[R(Be,{tabs:T(Ue),"model-value":S.value,"onUpdate:modelValue":$},null,8,["tabs","model-value"]),S.value=="pick"||S.value=="css"?(g(),E("div",qs,[S.value=="pick"?(g(),E("div",Qs,[R(kt,{"model-value":b.value,options:x.value,"onUpdate:modelValue":k},null,8,["model-value","options"]),w("div",Zs,[b.value=="all_sides"?(g(),E(G,{key:0},[el,R(ce,{ref_key:"fixedEl",ref:l,type:"number","model-value":C.value[0],"onUpdate:modelValue":y[0]||(y[0]=F=>p(F,b.value))},null,8,["model-value"]),tl],64)):B("",!0),b.value=="XY sides"?(g(),E(G,{key:1},[nl,R(ce,{type:"number","model-value":C.value[0],"onUpdate:modelValue":y[1]||(y[1]=F=>p(F,b.value,"x"))},null,8,["model-value"]),ol,sl,R(ce,{type:"number","model-value":C.value[2],"onUpdate:modelValue":y[2]||(y[2]=F=>p(F,b.value,"y"))},null,8,["model-value"]),ll],64)):B("",!0),b.value=="Per side"?(g(),E(G,{key:2},[il,R(ce,{type:"number","model-value":C.value[0],"onUpdate:modelValue":y[3]||(y[3]=F=>p(F,b.value,"left"))},null,8,["model-value"]),al,rl,R(ce,{type:"number","model-value":C.value[1],"onUpdate:modelValue":y[4]||(y[4]=F=>p(F,b.value,"right"))},null,8,["model-value"]),cl,ul,R(ce,{type:"number","model-value":C.value[2],"onUpdate:modelValue":y[5]||(y[5]=F=>p(F,b.value,"top"))},null,8,["model-value"]),dl,fl,R(ce,{type:"number","model-value":C.value[3],"onUpdate:modelValue":y[6]||(y[6]=F=>p(F,b.value,"bottom"))},null,8,["model-value"]),pl],64)):B("",!0)])])):B("",!0),S.value=="css"?(g(),V(oe,{key:1,ref_key:"freehandInputEl",ref:a,value:h.value.content[T(f)],onInput:I},null,8,["value"])):B("",!0)])):B("",!0)],8,Gs))}}),hl=X(vl,[["__scopeId","data-v-e58406d4"]]),ze=e=>(ae("data-v-84126bef"),e=e(),re(),e),ml=["data-automation-key"],gl={key:0,class:"main"},_l={key:0,class:"pickerContainer"},yl={class:"param"},bl={class:"header"},wl=ze(()=>w("div",{class:"name"},"Offset X",-1)),kl=["value"],xl={class:"param"},Sl={class:"header"},Il=ze(()=>w("div",{class:"name"},"Offset Y",-1)),El=["value"],Cl={class:"param"},$l={class:"header"},Bl=ze(()=>w("div",{class:"name"},"Blur radius",-1)),Ml=["value"],Al={class:"param"},Tl={class:"header"},Ol=ze(()=>w("div",{class:"name"},"Spread radius",-1)),Fl=["value"],Rl={class:"param"},Ll=ze(()=>w("div",{class:"header"},[w("div",{class:"name"},"Color")],-1)),Pl=["value"],Vl=Y({__name:"BuilderFieldsShadow",props:{componentId:{},fieldKey:{}},setup(e){const t=D(W.core),n=D(W.builderManager),{setContentValue:o}=se(t,n),s=L(null),i=L(null),l=L(null),a=L(null),r=L(null),c=L(null),u=L(null),d={pick:l,css:i,default:null},f=e,{componentId:h,fieldKey:x}=ge(f),b=M(()=>t.getComponentById(h.value)),O=/^(?<offsetX>[0-9]+)px (?<offsetY>[0-9]+)px (?<blurRadius>[0-9]+)px (?<spreadRadius>[0-9-]+)px (?<color>#[A-Fa-f0-9]{6})$/,m=L((()=>{const I=b.value.content[x.value];return I?O.test(I)?"pick":"css":"default"})()),A=()=>{var p;const I=(p=d[m.value])==null?void 0:p.value;I&&(I.focus(),typeof I.selectionStart=="number"&&(I.selectionStart=I.selectionEnd=I.value.length))},S=async I=>{m.value!=I&&(m.value=I,await fe(),A(),I==="default"&&o(b.value.id,x.value,void 0))},_=()=>{const I=l.value.value,p=a.value.value,v=r.value.value,y=c.value.value,F=u.value.value,j=`${I}px ${p}px ${v}px ${y}px ${F}`;o(b.value.id,x.value,j)},$=I=>{o(b.value.id,x.value,I.target.value)},k=M(()=>{var v;const I=b.value.content[x.value];return(v=I==null?void 0:I.match(O))==null?void 0:v.groups});return Ce(()=>{s.value.addEventListener("focus",A)}),Re(()=>{s.value.removeEventListener("focus",A)}),(I,p)=>{var v,y,F,j,K,z,ye,Pe,Ve,De,Z,U,Et;return g(),E("div",{ref_key:"rootEl",ref:s,class:"BuilderFieldsShadow",tabindex:"-1","data-automation-key":f.fieldKey},[R(Be,{tabs:T(Ue),"model-value":m.value,"onUpdate:modelValue":S},null,8,["tabs","model-value"]),m.value=="pick"||m.value=="css"?(g(),E("div",gl,[m.value=="pick"?(g(),E("div",_l,[w("div",yl,[w("div",bl,[wl,Te(w("div",{class:"value"},H((v=k.value)==null?void 0:v.offsetX)+"px ",513),[[He,(y=k.value)==null?void 0:y.offsetX]])]),w("input",{ref_key:"paramOffsetXEl",ref:l,type:"range",min:"0",max:"32",value:(F=k.value)==null?void 0:F.offsetX,onInput:_},null,40,kl)]),w("div",xl,[w("div",Sl,[Il,Te(w("div",{class:"value"},H((j=k.value)==null?void 0:j.offsetY)+"px ",513),[[He,(K=k.value)==null?void 0:K.offsetY]])]),w("input",{ref_key:"paramOffsetYEl",ref:a,type:"range",min:"0",max:"32",value:(z=k.value)==null?void 0:z.offsetY,onInput:_},null,40,El)]),w("div",Cl,[w("div",$l,[Bl,Te(w("div",{class:"value"},H((ye=k.value)==null?void 0:ye.blurRadius)+"px ",513),[[He,(Pe=k.value)==null?void 0:Pe.blurRadius]])]),w("input",{ref_key:"paramBlurRadiusEl",ref:r,type:"range",min:"0",max:"32",value:(Ve=k.value)==null?void 0:Ve.blurRadius,onInput:_},null,40,Ml)]),w("div",Al,[w("div",Tl,[Ol,Te(w("div",{class:"value"},H((De=k.value)==null?void 0:De.spreadRadius)+"px ",513),[[He,(Z=k.value)==null?void 0:Z.spreadRadius]])]),w("input",{ref_key:"paramSpreadRadiusEl",ref:c,type:"range",min:"-16",max:"32",value:(U=k.value)==null?void 0:U.spreadRadius,onInput:_},null,40,Fl)]),w("div",Rl,[Ll,w("input",{ref_key:"paramColorEl",ref:u,type:"color",value:(Et=k.value)==null?void 0:Et.color,onInput:_},null,40,Pl)])])):B("",!0),m.value=="css"?(g(),V(oe,{key:1,ref_key:"freehandInputEl",ref:i,value:b.value.content[T(x)],onInput:$},null,8,["value"])):B("",!0)])):B("",!0)],8,ml)}}}),Dl=X(Vl,[["__scopeId","data-v-84126bef"]]),Wl=["data-automation-key"],Nl=Y({__name:"BuilderFieldsText",props:{componentId:{},fieldKey:{}},setup(e){const t=D(W.core),n=D(W.builderManager),{setContentValue:o}=se(t,n),s=e,{componentId:i,fieldKey:l}=ge(s),a=M(()=>t.getComponentById(i.value)),r=M(()=>{const{type:f}=a.value;return t.getComponentDefinition(f).fields[l.value]}),c=M(()=>`${s.componentId}-${s.fieldKey}`),u=M(()=>{const f=r.value;return f.options?typeof f.options=="function"?f.options(t,i.value):f.options:{}}),d=f=>{o(a.value.id,l.value,f.target.value)};return(f,h)=>{var x,b;return g(),E("div",{class:"BuilderFieldsText","data-automation-key":s.fieldKey},[!r.value.control||r.value.control==T($t).Text?(g(),V(oe,{key:0,class:"content","input-id":c.value,value:a.value.content[T(l)],placeholder:(x=r.value)==null?void 0:x.default,options:u.value,onInput:d},null,8,["input-id","value","placeholder","options"])):r.value.control==T($t).Textarea?(g(),V(oe,{key:1,multiline:"",variant:"text",class:"content","input-id":c.value,value:a.value.content[T(l)],placeholder:(b=r.value)==null?void 0:b.default,onInput:d},null,8,["input-id","value","placeholder"])):B("",!0)],8,Wl)}}}),st=X(Nl,[["__scopeId","data-v-8c86725b"]]),jl=e=>(ae("data-v-19941699"),e=e(),re(),e),Kl=["data-automation-key"],Ul={key:0,class:"main"},zl={key:0,class:"pickerContainer"},Hl={key:0,class:"fixedContainer"},Yl=jl(()=>w("div",null,"px",-1)),Xl=Y({__name:"BuilderFieldsWidth",props:{componentId:{},fieldKey:{}},setup(e){const t=D(W.core),n=D(W.builderManager),{setContentValue:o}=se(t,n),s=L(null),i=L(null),l=L(null),a=L(null),r=[{key:"fixed",label:"Fixed",match:p=>p.endsWith("px"),default:"160px"},{key:"fit-content",label:"Fit Content",match:p=>p=="fit-content",default:"fit-content"},{key:"full",label:"Full",match:p=>p=="100%",default:"100%"}],c={pick:i,css:a,default:null},u=e,{componentId:d,fieldKey:f}=ge(u),h=M(()=>t.getComponentById(d.value)),x=M(()=>r.map(p=>({value:p.key,label:p.label,icon:"width"}))),b=M(()=>{const p=h.value.content[f.value];for(const v in r)if(p&&r[v].match(p))return r[v].key;return null}),O=M(()=>{const p=h.value.content[f.value];return p||""}),C=M(()=>{const p=h.value.content[f.value];if(p){if(p.endsWith("px"))return p.substring(0,p.length-2)}else return null;return null}),A=L((()=>{if(!O.value)return"default";for(const p in r)if(r[p].match(O.value))return"pick";return"css"})()),S=()=>{var v;const p=(v=c[A.value])==null?void 0:v.value;p&&(p.focus(),typeof p.selectionStart=="number"&&(p.selectionStart=p.selectionEnd=p.value.length))},_=async p=>{A.value!=p&&(A.value=p,await fe(),S(),p==="default"&&o(h.value.id,f.value,void 0))},$=p=>{for(const v in r)if(r[v].key==p){const y=r[v].default;h.value.content[f.value]=y,o(h.value.id,f.value,y)}p=="fixed"&&fe(()=>{l.value.focus()})},k=p=>{o(h.value.id,f.value,p.target.value)},I=p=>{o(h.value.id,f.value,`${p}px`)};return Ce(()=>{s.value.addEventListener("focus",S)}),Re(()=>{s.value.removeEventListener("focus",S)}),(p,v)=>(g(),E("div",{ref_key:"rootEl",ref:s,class:"BuilderFieldsWidth",tabindex:"-1","data-automation-key":u.fieldKey},[R(Be,{tabs:T(Ue),"model-value":A.value,"onUpdate:modelValue":_},null,8,["tabs","model-value"]),A.value=="pick"||A.value=="css"?(g(),E("div",Ul,[A.value=="pick"?(g(),E("div",zl,[R(kt,{"model-value":b.value,options:x.value,"onUpdate:modelValue":$},null,8,["model-value","options"]),b.value=="fixed"?(g(),E("div",Hl,[R(ce,{ref_key:"fixedEl",ref:l,type:"number","model-value":C.value,"onUpdate:modelValue":I},null,8,["model-value"]),Yl])):B("",!0)])):B("",!0),A.value=="css"?(g(),V(oe,{key:1,ref_key:"freehandInputEl",ref:a,value:h.value.content[T(f)],onInput:k},null,8,["value"])):B("",!0)])):B("",!0)],8,Kl))}}),Jl=X(Xl,[["__scopeId","data-v-19941699"]]),Gl=e=>(ae("data-v-ef24262a"),e=e(),re(),e),ql={class:"WdsFieldWrapper colorTransformer"},Ql={key:0,class:"WdsFieldWrapper__title"},Zl={key:0,class:"WdsFieldWrapper__title__label"},ei={key:0,class:"WdsFieldWrapper__title__label__unit"},ti=Gl(()=>w("i",{class:"material-symbols-outlined"},"help",-1)),ni={class:"WdsFieldWrapper__slot"},oi={key:1,class:"WdsFieldWrapper__hint"},si=Y({__name:"WdsFieldWrapper",props:{label:{type:String,required:!1,default:void 0},unit:{type:String,required:!1,default:void 0},hint:{type:String,required:!1,default:void 0},helpButton:{type:[String,Boolean],required:!1,default:void 0}},emits:{helpClick:()=>!0},setup(e){return(t,n)=>(g(),E("div",ql,[e.label||e.helpButton?(g(),E("div",Ql,[e.label?(g(),E("label",Zl,[q(H(e.label),1),e.unit?(g(),E("span",ei," : "+H(e.unit),1)):B("",!0)])):B("",!0),e.helpButton?(g(),V(J,{key:1,class:"WdsFieldWrapper__title__help",variant:"neutral",size:"smallIcon","data-writer-tooltip":typeof e.helpButton=="string"?e.helpButton:void 0,onClick:n[0]||(n[0]=o=>t.$emit("helpClick"))},{default:N(()=>[ti]),_:1},8,["data-writer-tooltip"])):B("",!0)])):B("",!0),w("div",ni,[mt(t.$slots,"default",{},void 0,!0)]),e.hint?(g(),E("div",oi,H(e.hint),1)):B("",!0)]))}}),Ie=X(si,[["__scopeId","data-v-ef24262a"]]),tt=e=>(ae("data-v-08f79717"),e=e(),re(),e),li=["data-automation-key"],ii={class:"tools"},ai=["onClick"],ri={class:"toolName"},ci=tt(()=>w("i",{class:"material-symbols-outlined"},"delete",-1)),ui=tt(()=>w("i",{class:"material-symbols-outlined"},"add",-1)),di={class:"addToolForm"},fi=tt(()=>w("option",{value:"function"},"Function",-1)),pi=tt(()=>w("option",{value:"graph"},"Knowledge graph",-1)),vi={class:"addToolFormActions"},hi=Y({__name:"BuilderFieldsTools",props:{componentId:{},fieldKey:{}},setup(e){const t=vt(()=>ht(()=>import("./BuilderEmbeddedCodeEditor-xQxb7c_d.js").then(_=>_.a),__vite__mapDeps([4,1,2,5]),import.meta.url)),n=D(W.core),o=D(W.builderManager),{setContentValue:s}=se(n,o),l={isShown:!1,type:"function",name:"new_tool",code:`
{
	"description": "Gets info for an employee, given an employee id",
    "parameters": {
      "id": {"type": "string", "description": "Id of the employee"}
    }
}
`.trim(),graphIds:"6029b226-1ee0-4239-a1b0-cdeebfa3ad5a"},a=L(l),r=e,{componentId:c,fieldKey:u}=ge(r),d=M(()=>n.getComponentById(c.value)),f=M(()=>{let _={};try{_=JSON.parse(d.value.content[u.value])}catch{_={}}return _});function h(){a.value={...l,isShown:!0}}function x(){const{type:_,code:$,graphIds:k}=a.value;if(_=="function")return{...JSON.parse($),type:_};if(_=="graph"){const I=k.split(",").map(p=>p.trim());return{type:_,graph_ids:I}}throw"Unexpected tool type."}function b(_){let $=[];const{originalName:k,name:I}=_;return I||$.push("The name cannot be empty."),Object.keys(f.value).includes(I)&&!(k||k==I)&&$.push("An existing tool with the specified name already exists."),$}function O(){const _=b(a.value);if(_.length>0){_.forEach(alert);return}let $;try{$=x()}catch{alert("Incorrect tool definition");return}const k=JSON.stringify({...f.value,...a.value.originalName?{[a.value.originalName]:void 0}:{},[a.value.name]:$});s(d.value.id,u.value,k),a.value.isShown=!1}function C(_,$){var I;const{type:k}=$;if(k=="function")return{isShown:!0,type:"function",originalName:_,name:_,graphIds:"",code:JSON.stringify($,void 0,2)};if(k=="graph")return{isShown:!0,type:"graph",originalName:_,name:_,graphIds:(I=$.graph_ids)==null?void 0:I.join(","),code:""};throw"Unexpected tool type;"}function m(_){var k;const $=(k=f.value)==null?void 0:k[_];$&&(a.value=C(_,$))}function A(_){const $=JSON.stringify({...f.value,[_]:void 0});s(d.value.id,u.value,$)}const S={desc:"Close",fn:()=>{a.value.isShown=!1}};return(_,$)=>(g(),E("div",{class:"BuilderFieldsTools colorTransformer","data-automation-key":r.fieldKey},[w("div",ii,[(g(!0),E(G,null,be(f.value,(k,I)=>(g(),E("div",{key:I,class:"tool",onClick:p=>m(I)},[w("div",ri,H(I),1),R(J,{variant:"primary",size:"small",class:"delete",onClick:Cn(p=>A(I),["stop"])},{default:N(()=>[ci]),_:2},1032,["onClick"])],8,ai))),128))]),R(J,{size:"small",onClick:h},{default:N(()=>[ui,q(" Add tool")]),_:1}),a.value.isShown?(g(),V(gt,{key:0,"close-action":S,icon:"add","modal-title":"Add tool"},{default:N(()=>[w("div",di,[R(Ie,{label:"Tool type"},{default:N(()=>[R($n,{modelValue:a.value.type,"onUpdate:modelValue":$[0]||($[0]=k=>a.value.type=k)},{default:N(()=>[fi,pi]),_:1},8,["modelValue"])]),_:1}),R(Ie,{label:"Tool name"},{default:N(()=>[R(ce,{modelValue:a.value.name,"onUpdate:modelValue":$[1]||($[1]=k=>a.value.name=k)},null,8,["modelValue"])]),_:1}),a.value.type=="function"?(g(),V(Ie,{key:0,"frame-slot":!0,label:"Function tool definition"},{default:N(()=>[R(T(t),{modelValue:a.value.code,"onUpdate:modelValue":$[2]||($[2]=k=>a.value.code=k),variant:"minimal",language:"json"},null,8,["modelValue"])]),_:1})):B("",!0),a.value.type=="graph"?(g(),V(Ie,{key:1,label:"Graph id(s)",hint:"Specify the id of the knowledge graph you want to use. If multiple, separate the ids using commas."},{default:N(()=>[R(Gt,{modelValue:a.value.graphIds,"onUpdate:modelValue":$[3]||($[3]=k=>a.value.graphIds=k)},null,8,["modelValue"])]),_:1})):B("",!0)]),w("div",vi,[R(J,{onClick:O},{default:N(()=>[q("Save")]),_:1})])]),_:1})):B("",!0)],8,li))}}),mi=X(hi,[["__scopeId","data-v-08f79717"]]),gi={key:0,class:"BuilderSettingsProperties"},_i={key:0,class:"BuilderSettingsProperties__category__title"},yi=Y({__name:"BuilderSettingsProperties",setup(e){const t=D(W.core),n=D(W.builderManager),o=M(()=>{var r;return Tn((r=n.getSelection())==null?void 0:r.instancePath)}),s=M(()=>t.getComponentById(n.getSelectedId())),i=M(()=>{const{type:r}=s.value;return t.getComponentDefinition(r).fields}),l=M(()=>[ve.General,ve.Style,ve.Tools].filter(r=>{var c;return(c=a.value[r])==null?void 0:c.length})),a=M(()=>{const r=Object.entries(i.value);return{[ve.General]:r.filter(([u,d])=>!d.category||d.category==ve.General),[ve.Style]:r.filter(([u,d])=>d.category==ve.Style),[ve.Tools]:r.filter(([u,d])=>d.category==ve.Tools)}});return(r,c)=>T(n).isSelectionActive()&&i.value?(g(),E("div",gi,[(g(!0),E(G,null,be(l.value,u=>(g(),E("div",{key:u,class:"BuilderSettingsProperties__category"},[a.value[u].length>0?(g(),E("h4",_i,H(u),1)):B("",!0),(g(!0),E(G,null,be(a.value[u],([d,f])=>(g(),E("div",{key:d,class:"BuilderSettingsProperties__category__field"},[R(Ie,{label:u==="Tools"?void 0:f.name??d,hint:f.desc,unit:f.type},{default:N(()=>[f.type==T(ne).Color?(g(),V(Ds,{key:0,"field-key":d,"component-id":s.value.id},null,8,["field-key","component-id"])):B("",!0),f.type==T(ne).Shadow?(g(),V(Dl,{key:1,"field-key":d,"component-id":s.value.id},null,8,["field-key","component-id"])):B("",!0),f.type==T(ne).KeyValue?(g(),V(Js,{key:2,"field-key":d,"component-id":s.value.id,"instance-path":o.value},null,8,["field-key","component-id","instance-path"])):B("",!0),f.type==T(ne).Text?(g(),V(st,{key:3,"field-key":d,"component-id":s.value.id},null,8,["field-key","component-id"])):B("",!0),f.type==T(ne).Number?(g(),V(st,{key:4,"field-key":d,"component-id":s.value.id},null,8,["field-key","component-id"])):B("",!0),f.type==T(ne).IdKey?(g(),V(st,{key:5,"field-key":d,"component-id":s.value.id},null,8,["field-key","component-id"])):B("",!0),f.type==T(ne).Object?(g(),V(yn,{key:6,"field-key":d,"component-id":s.value.id},null,8,["field-key","component-id"])):B("",!0),f.type==T(ne).Width?(g(),V(Jl,{key:7,"field-key":d,"component-id":s.value.id},null,8,["field-key","component-id"])):B("",!0),f.type==T(ne).HAlign?(g(),V(zt,{key:8,direction:"horizontal","field-key":d,"component-id":s.value.id},null,8,["field-key","component-id"])):B("",!0),f.type==T(ne).VAlign?(g(),V(zt,{key:9,direction:"vertical","field-key":d,"component-id":s.value.id},null,8,["field-key","component-id"])):B("",!0),f.type==T(ne).Padding?(g(),V(hl,{key:10,"field-key":d,"component-id":s.value.id},null,8,["field-key","component-id"])):B("",!0),f.type==T(ne).Tools?(g(),V(mi,{key:11,"field-key":d,"component-id":s.value.id},null,8,["field-key","component-id"])):B("",!0)]),_:2},1032,["label","hint","unit"])]))),128))]))),128))])):B("",!0)}}),bi=X(yi,[["__scopeId","data-v-2bbcf778"]]),wi={key:0,class:"BuilderSettingsBinding"},ki={class:"main"},xi='Links this component to a state element, in a two-way fashion. Reference the state element directly, i.e. use "my_var" instead of "@{my_var}".',Si=Y({__name:"BuilderSettingsBinding",setup(e){const t=D(W.core),n=D(W.builderManager),{setBinding:o}=se(t,n),s=M(()=>t.getComponentById(n.getSelectedId()));return(i,l)=>{const a=Bn("BuilderSectionTitle");return T(n).isSelectionActive()?(g(),E("div",wi,[R(a,{icon:"link",label:"Binding"}),w("div",ki,[R(Ie,{label:"State element",hint:xi},{default:N(()=>{var r;return[R(oe,{type:"state",value:(r=s.value.binding)==null?void 0:r.stateRef,placeholder:"my_var",onInput:l[0]||(l[0]=c=>T(o)(s.value.id,c.target.value))},null,8,["value"])]}),_:1})])])):B("",!0)}}}),Ii=X(Si,[["__scopeId","data-v-42fa4453"]]),Ei={class:"BuilderSectionTitle"},Ci={class:"material-symbols-outlined"},$i=Y({__name:"BuilderSectionTitle",props:{icon:{type:String,required:!0},label:{type:String,required:!0}},setup(e){return(t,n)=>(g(),E("div",Ei,[w("i",Ci,H(e.icon),1),w("h3",null,H(e.label),1)]))}}),Bi=X($i,[["__scopeId","data-v-731e03f5"]]),Mi=e=>(ae("data-v-e3724161"),e=e(),re(),e),Ai={key:0,class:"BuilderSettingsVisibility"},Ti={class:"main"},Oi={class:"flexRow"},Fi=["checked"],Ri=Mi(()=>w("span",null,"Reverse",-1)),Li='Reference a state or context element that will evaluate to true or false. Reference the element directly, i.e. use "my_var" instead of "@{my_var}".',Pi=Y({__name:"BuilderSettingsVisibility",setup(e){const t=[{label:"Yes",value:"yes"},{label:"No",value:"no"},{label:"Custom",value:"custom"}],n=M({get(){const a=l.value.visible;return(a==null?void 0:a.expression)==="custom"?"custom":a===void 0||a.expression===!0?"yes":"no"},set(a){var r,c;a==="custom"?i(l.value.id,"custom",(r=l.value.visible)==null?void 0:r.binding,(c=l.value.visible)==null?void 0:c.reversed):i(l.value.id,a==="yes")}}),o=D(W.core),s=D(W.builderManager),{setVisibleValue:i}=se(o,s),l=M(()=>o.getComponentById(s.getSelectedId()));return(a,r)=>T(s).isSelectionActive()?(g(),E("div",Ai,[R(Bi,{icon:"visibility",label:"Visibility"}),w("div",Ti,[R(Be,{modelValue:n.value,"onUpdate:modelValue":r[0]||(r[0]=c=>n.value=c),tabs:t},null,8,["modelValue"]),typeof l.value.visible<"u"&&l.value.visible.expression==="custom"?(g(),V(Ie,{key:0,hint:Li},{default:N(()=>[R(oe,{value:l.value.visible.binding,type:"state",placeholder:"my_visibility_state_value",onInput:r[1]||(r[1]=c=>T(i)(l.value.id,"custom",c.target.value,l.value.visible.reversed))},null,8,["value"]),w("div",Oi,[w("input",{type:"checkbox",checked:l.value.visible.reversed,onInput:r[2]||(r[2]=c=>T(i)(l.value.id,"custom",l.value.visible.binding,c.target.checked))},null,40,Fi),Ri])]),_:1})):B("",!0)])])):B("",!0)}}),Vi=X(Pi,[["__scopeId","data-v-e3724161"]]),Di=["data-writer-tooltip"],Wi=Y({__name:"BuilderCopyText",setup(e){const t=L("Copy to clipboard");function n(o){const s=o.target.textContent;navigator.clipboard.writeText(s),t.value="Copied!",setTimeout(()=>{t.value="Copy to clipboard"},1e3)}return(o,s)=>(g(),E("span",{class:"BuilderCopyText","data-writer-tooltip":t.value,onClick:n},[mt(o.$slots,"default",{},void 0,!0)],8,Di))}}),Ni=X(Wi,[["__scopeId","data-v-46ba30f4"]]),St=e=>(ae("data-v-9130eeb1"),e=e(),re(),e),ji={key:0,class:"BuilderSettingsAPICode"},Ki={class:"modalContents"},Ui={class:"codeContainer"},zi={class:"codeContainer"},Hi=St(()=>w("strong",null,"Note: For API calls to work, the --enable-jobs-api flag must be active.",-1)),Yi=St(()=>w("i",{class:"material-symbols-outlined"}," code ",-1)),Xi=St(()=>w("i",{class:"material-symbols-outlined"}," code ",-1)),Ji=Y({__name:"BuilderSettingsAPICode",setup(e){const t=D(W.core),n=D(W.builderManager),o=M(()=>t.getComponentById(n.getSelectedId())),s=M(()=>{var h;return((h=o.value)==null?void 0:h.type)==="workflows_workflow"}),i=M(()=>{var h;if(s.value)return(h=o.value.content)==null?void 0:h.key}),l=L(!1),a=L(""),r=L(""),c=L(!1),u={desc:"Close",fn:()=>{l.value=!1}};function d(){f(),l.value=!0}async function f(){const h=await t.hashMessage(`create_job_${i.value}`);if(c.value=!!h,!c.value)return;const x=window.location.origin+window.location.pathname;a.value=`
curl --location --request POST '${x}api/job/workflow/${i.value}' \\
--header 'Content-Type: application/json' \\
--header 'Authorization: Bearer ${h}' \\
--data '{
    "my_var": 1
}'`.trim(),r.value=`
curl --location '${x}api/job/JOB_ID' \\
--header 'Authorization: Bearer JOB_TOKEN'`.trim()}return(h,x)=>s.value?(g(),E("div",ji,[l.value?(g(),V(gt,{key:0,"close-action":u,icon:"code","modal-title":"API Code"},{default:N(()=>[w("div",Ki,[c.value?(g(),E(G,{key:0},[q(" The following call will create the job and provide you with a job ID and a job token. "),w("div",Ui,[R(Bt,{modelValue:a.value,"onUpdate:modelValue":x[0]||(x[0]=b=>a.value=b),class:"editor",variant:"minimal",language:"shell"},null,8,["modelValue"])]),q(" Using the job ID and token obtained in the previous call, check the status of the job. You can use the code below, after replacing JOB_ID and JOB_TOKEN for the right values. "),w("div",zi,[R(Bt,{modelValue:r.value,"onUpdate:modelValue":x[1]||(x[1]=b=>r.value=b),class:"editor",variant:"minimal",language:"shell"},null,8,["modelValue"])]),Hi],64)):(g(),E(G,{key:1},[q(" API code cannot be generated. Please make sure the environment variable WRITER_SECRET_KEY has been set up. ")],64))])]),_:1})):B("",!0),i.value?(g(),V(J,{key:1,variant:"tertiary",size:"small",onClick:d},{default:N(()=>[Yi,q(" Call via API")]),_:1})):(g(),V(J,{key:2,disabled:!0,variant:"tertiary",size:"small","data-writer-tooltip":`You need to specify a workflow key before this workflow can be
				used in the UI or called via API.`},{default:N(()=>[Xi,q(" Call via API")]),_:1}))])):B("",!0)}}),Gi=X(Ji,[["__scopeId","data-v-9130eeb1"]]),wn=e=>(ae("data-v-1eff05aa"),e=e(),re(),e),qi={class:"BuilderSettingsMain"},Qi={key:0,class:"warning cmc-warning"},Zi=wn(()=>w("i",{class:"material-symbols-outlined"},"warning",-1)),ea=wn(()=>w("span",null," This component is instantiated in code. All settings in this panel are read-only and cannot be edited. ",-1)),ta=[Zi,ea],na=["inert"],oa={class:"sections debug"},sa=Y({__name:"BuilderSettingsMain",setup(e){const t=vt({loader:()=>ht(()=>import("./BuilderSettingsHandlers-D_HDqp1N.js"),__vite__mapDeps([6,4,1,2,5,7,8,9,10,11]),import.meta.url),loadingComponent:An}),n=D(W.core),o=D(W.builderManager),s=M(()=>n.getComponentById(o.getSelectedId())),i=M(()=>s.value.isCodeManaged),l=M(()=>{const{type:r}=s.value;return n.getComponentDefinition(r)});he(s,r=>{r||o.setSelection(null)});const a=M(()=>{var r;return Object.values(((r=l.value)==null?void 0:r.events)??{}).some(c=>c.bindable)});return(r,c)=>(g(),E("div",qi,[i.value?(g(),E("div",Qi,ta)):B("",!0),w("div",{class:"sections",inert:i.value},[R(bi),!l.value.toolkit||l.value.toolkit=="core"?(g(),E(G,{key:0},[a.value?(g(),V(Ii,{key:0})):B("",!0),R(T(t)),R(Vi)],64)):B("",!0),R(Gi,null,{default:N(()=>[q("Execute via API")]),_:1})],8,na),w("div",oa,[w("div",null,[q(" Component id: "),R(Ni,null,{default:N(()=>[q(H(T(o).getSelectedId()),1)]),_:1})])])]))}}),la=X(sa,[["__scopeId","data-v-1eff05aa"]]),ia={class:"BuilderSettingsMiniDocs markdown"},aa=Y({__name:"BuilderSettingsMiniDocs",props:{rawMiniDocs:{}},setup(e){const t=e,n=On.parse(t.rawMiniDocs);return(o,s)=>{const i=Jt("dompurify-html");return Te((g(),E("div",ia,[q(H(T(n)),1)])),[[i,T(n)]])}}}),ra=X(aa,[["__scopeId","data-v-1129160a"]]),It=e=>(ae("data-v-74d11c78"),e=e(),re(),e),ca={class:"collapser"},ua=It(()=>w("i",{class:"material-symbols-outlined"},"settings",-1)),da=It(()=>w("i",{class:"material-symbols-outlined"},"double_arrow",-1)),fa={class:"titleBar"},pa=It(()=>w("i",{class:"material-symbols-outlined"},"info",-1)),va=Y({__name:"BuilderSettings",setup(e){Mn(u=>({"01d68e04":T(n).getMode()=="workflows"?"72px":"20px"}));const t=D(W.core),n=D(W.builderManager),o=L(!1),s=M(()=>t.getComponentById(n.getSelectedId())),i=M(()=>n.isSettingsBarCollapsed.value);function l(){n.isSettingsBarCollapsed.value=!n.isSettingsBarCollapsed.value}const a=M(()=>{const{type:u}=s.value;return t.getComponentDefinition(u)}),r=M(()=>{var u,d;return(d=(u=a.value)==null?void 0:u.docs)==null?void 0:d.trim()});he(s,u=>{u||n.setSelection(null)});const c=()=>{o.value=!o.value};return(u,d)=>T(n).isSelectionActive()?(g(),E("div",{key:0,class:pt(["BuilderSettings",{collapsed:i.value,miniDocsActive:o.value}])},[w("div",ca,[i.value?(g(),V(J,{key:0,class:"collapserButton",size:"smallIcon",variant:"neutral","data-writer-tooltip-placement":"left","data-writer-tooltip":"Expand settings","data-automation-action":"expand-settings",onClick:l},{default:N(()=>[ua]),_:1})):(g(),V(J,{key:1,class:"collapserButton",size:"smallIcon",variant:"neutral","data-writer-tooltip-placement":"left","data-writer-tooltip":"Collapse settings","data-automation-action":"collapse-settings",onClick:l},{default:N(()=>[da]),_:1}))]),w("div",fa,[w("div",null,H(a.value.name),1),r.value?(g(),V(J,{key:0,inert:i.value,class:"collapserButton",size:"small",variant:"neutral","data-writer-tooltip-placement":"top","data-writer-tooltip":"Toggle mini docs",onClick:c},{default:N(()=>[pa]),_:1},8,["inert"])):B("",!0)]),o.value&&r.value&&!i.value?(g(),V(ra,{key:0,class:"miniDocs","raw-mini-docs":r.value},null,8,["raw-mini-docs"])):B("",!0),R(Hn,{class:"actions"}),R(la,{inert:i.value,class:"main"},null,8,["inert"])],2)):B("",!0)}}),ha=X(va,[["__scopeId","data-v-74d11c78"]]),wa=Object.freeze(Object.defineProperty({__proto__:null,default:ha},Symbol.toStringTag,{value:"Module"}));export{kt as B,Ie as W,wa as a};
