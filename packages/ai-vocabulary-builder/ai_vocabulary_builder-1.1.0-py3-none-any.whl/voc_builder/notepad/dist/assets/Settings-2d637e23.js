import{d as S,m as u,r as h,o as V,b as f,c as m,e as l,f as e,w as i,v as g,A as v,t as c,B as y,F as b,i as k,j as P,C as O,h as n,l as d}from"./index-55f055e8.js";const U={class:"row mt-4"},M={class:"col-12"},N=e("h4",{class:"me-1",style:{display:"inline-block"}},"Settings",-1),D=e("hr",{class:"mt-1"},null,-1),G={class:"mb-3"},K=e("label",{for:"model_provider",class:"form-label"},[n("Model Provider "),e("span",{class:"text-danger"},"*")],-1),C=e("option",{value:""},"-- Select --",-1),B=e("option",{value:"openai"},"OpenAI API",-1),F=e("option",{value:"gemini"},"Google Gemini",-1),H=[C,B,F],T={key:0},j={class:"mb-3"},E=e("label",{for:"openai_api_key",class:"form-label"},[n("API Key "),e("span",{class:"text-danger"},"*")],-1),L={class:"input-group"},q=["type"],z={class:"mb-3"},J=e("label",{for:"openai_api_host",class:"form-label"},"API Host",-1),Q=e("div",{class:"form-text"},[n(" Optional, the default value is "),e("a",{href:"https://api.openai.com/v1"},"https://api.openai.com/v1")],-1),R={class:"mb-3"},W=e("label",{for:"openai_model",class:"form-label"},[n("Model "),e("span",{class:"text-danger"},"*")],-1),X=["value"],Y={class:"mb-3"},Z=e("label",{for:"gemini_api_key",class:"form-label"},[n("API Key "),e("span",{class:"text-danger"},"*")],-1),$={class:"input-group"},ee=["type"],oe=e("div",{class:"form-text"},[e("a",{href:"https://aistudio.google.com/",target:"_blank"},"Get API key in Google AI Studio")],-1),se={class:"mb-3"},te=e("label",{for:"gemini_api_host",class:"form-label"},"API Host",-1),ie=e("div",{class:"form-text"},[n(" Optional, the default value is "),e("a",{href:"https://generativelanguage.googleapis.com"},"https://generativelanguage.googleapis.com")],-1),ae={class:"mb-3"},ne=e("label",{for:"gemini_model",class:"form-label"},[n("Model "),e("span",{class:"text-danger"},"*")],-1),le=["value"],de=e("button",{type:"submit",class:"btn btn-primary"}," Save ",-1),ce=S({__name:"Settings",setup(pe){const t=u({model_provider:"",openai_config:{api_key:"",api_host:"",model:""},gemini_config:{api_key:"",api_host:"",model:""}}),r=u({openai:[],gemini:[]}),p=h(!1),A=()=>{p.value=!p.value},_=h(!1),w=()=>{_.value=!_.value};V(()=>{x()});async function x(){try{const o=(await f.get(window.API_ENDPOINT+"/api/settings")).data;Object.assign(t,o.settings),Object.assign(r,o.model_options)}catch(a){const o=a.response?a.response.data.message:a.message;m.error("Failed to load settings, details: "+o)}}const I=async a=>{a.preventDefault();try{await f.post(window.API_ENDPOINT+"/api/settings",t),m.success("Settings Updated.")}catch(o){const s=o.response?o.response.data.message:o.message;m.error("Failed, details: "+s)}};return(a,o)=>(d(),l("div",U,[e("div",M,[N,D,e("form",{onSubmit:I},[e("div",G,[K,i(e("select",{name:"model_provider",class:"form-select",id:"model_provider","onUpdate:modelValue":o[0]||(o[0]=s=>t.model_provider=s)},H,512),[[g,t.model_provider]])]),t.model_provider==="openai"?(d(),l("div",T,[e("div",j,[E,e("div",L,[i(e("input",{type:_.value?"text":"password",class:"form-control",id:"openai_api_key",name:"openai_api_key","onUpdate:modelValue":o[1]||(o[1]=s=>t.openai_config.api_key=s),placeholder:""},null,8,q),[[v,t.openai_config.api_key]]),e("button",{type:"button",class:"btn btn-outline-secondary",onClick:w},c(_.value?"Hide":"Show"),1)])]),e("div",z,[J,i(e("input",{class:"form-control",id:"openai_api_host",name:"openai_api_host","onUpdate:modelValue":o[2]||(o[2]=s=>t.openai_config.api_host=s),placeholder:""},null,512),[[y,t.openai_config.api_host]]),Q]),e("div",R,[W,i(e("select",{name:"openai_model",class:"form-select","onUpdate:modelValue":o[3]||(o[3]=s=>t.openai_config.model=s)},[(d(!0),l(b,null,k(r.openai,s=>(d(),l("option",{key:s,value:s},c(s),9,X))),128))],512),[[g,t.openai_config.model]])])])):P("",!0),i(e("div",null,[e("div",Y,[Z,e("div",$,[i(e("input",{type:p.value?"text":"password",class:"form-control",id:"gemini_api_key",name:"gemini_api_key","onUpdate:modelValue":o[4]||(o[4]=s=>t.gemini_config.api_key=s),placeholder:""},null,8,ee),[[v,t.gemini_config.api_key]]),e("button",{type:"button",class:"btn btn-outline-secondary",onClick:A},c(p.value?"Hide":"Show"),1)]),oe]),e("div",se,[te,i(e("input",{class:"form-control",id:"gemini_api_host",name:"gemini_api_host","onUpdate:modelValue":o[5]||(o[5]=s=>t.gemini_config.api_host=s),placeholder:""},null,512),[[y,t.gemini_config.api_host]]),ie]),e("div",ae,[ne,i(e("select",{name:"gemini_model",class:"form-select","onUpdate:modelValue":o[6]||(o[6]=s=>t.gemini_config.model=s)},[(d(!0),l(b,null,k(r.gemini,s=>(d(),l("option",{key:s,value:s},c(s),9,le))),128))],512),[[g,t.gemini_config.model]])])],512),[[O,t.model_provider==="gemini"]]),de],32)])]))}});export{ce as default};
