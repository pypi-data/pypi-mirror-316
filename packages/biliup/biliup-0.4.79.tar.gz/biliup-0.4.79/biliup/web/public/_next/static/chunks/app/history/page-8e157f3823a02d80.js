(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[811],{95822:function(e,t,r){Promise.resolve().then(r.bind(r,80710))},80710:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return g}});var n=r(57437),i=r(48936),o=r(57726),a=r(46671),d=r(91617),s=r(30695),c=r(2265);r(20104);var l=r(58782),u=r(35852),h=e=>{let{url:t}=e;return(0,c.useEffect)(()=>{let e=new l.Z({id:"mse",url:t,height:"100%",plugins:[u.C],width:"100%"});return()=>{null==e||e.destroy(),e=null}},[t]),(0,n.jsx)("div",{id:"mse"})},m=r(44623),f=r(20357);function g(){var e;let{Header:t,Footer:r,Sider:l,Content:u}=i.Layout,{data:g,error:v,isLoading:E}=(0,d.ZP)("/v1/videos",s._i),{Text:x}=i.Typography,[w,p]=(0,c.useState)(),y=[{title:"标题",dataIndex:"name",render:(e,t,r)=>(0,n.jsx)(x,{strong:!0,children:e})},{title:"大小",dataIndex:"size",render:e=>"".concat((e/1024/1024).toFixed(2)," MB")},{title:"更新日期",dataIndex:"updateTime",defaultSortOrder:"descend",sorter:(e,t)=>e.updateTime-t.updateTime>0?1:-1,render:e=>(0,m.cE)(e)},{title:"",dataIndex:"operate",render:(e,t,r)=>(0,n.jsx)(o.Z,{style:{cursor:"pointer"},onClick:()=>j(t.name)})}],[b,_]=(0,c.useState)(!1),j=e=>{_(!0),p(e)};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t,{style:{backgroundColor:"var(--semi-color-bg-1)"},children:(0,n.jsx)(i.JL,{style:{border:"none"},header:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{style:{backgroundColor:"rgba(var(--semi-green-4), 1)",borderRadius:"var(--semi-border-radius-large)",color:"var(--semi-color-bg-0)",display:"flex",padding:"6px"},children:(0,n.jsx)(a.Z,{size:"large"})}),(0,n.jsx)("h4",{style:{marginLeft:"12px"},children:"历史记录"})]}),mode:"horizontal"})}),(0,n.jsxs)(u,{style:{paddingLeft:12,paddingRight:12,backgroundColor:"var(--semi-color-bg-0)"},children:[(0,n.jsx)("main",{children:(0,n.jsx)(i.iA,{size:"small",columns:y,dataSource:g})}),(0,n.jsxs)(i.u_,{visible:b,onCancel:()=>{_(!1),console.log("Cancel button clicked")},closeOnEsc:!0,size:"large",bodyStyle:{height:500},footer:null,children:[(0,n.jsx)(h,{url:(null!==(e=f.env.NEXT_PUBLIC_API_SERVER)&&void 0!==e?e:"")+"/static/"+w}),(0,n.jsx)("div",{id:"mse"})]})]})]})}},30695:function(e,t,r){"use strict";r.d(t,{_i:function(){return o},gz:function(){return s},hw:function(){return d},sj:function(){return a},wG:function(){return i}});var n=r(20357);async function i(e,t){var r;let{arg:i}=t,o=await fetch((null!==(r=n.env.NEXT_PUBLIC_API_SERVER)&&void 0!==r?r:"")+e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!(o.status>=200&&o.status<300))throw Error(await o.text());let a=await o.json();if(!o.ok)throw Error(a.message);return a}let o=async function(){for(var e,t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];let o=await fetch((null!==(e=n.env.NEXT_PUBLIC_API_SERVER)&&void 0!==e?e:"")+r[0],r[1]);if(!o.ok)throw Error(await o.text());return o.json()},a=async(e,t)=>{var r;let i=await fetch((null!==(r=n.env.NEXT_PUBLIC_API_SERVER)&&void 0!==r?r:"")+e,t);if(!i.ok)throw Error(await i.text());return i};async function d(e,t){var r;let{arg:i}=t,o=await fetch("".concat(null!==(r=n.env.NEXT_PUBLIC_API_SERVER)&&void 0!==r?r:"").concat(e,"/").concat(i),{method:"DELETE"});if(!o.ok)throw Error(await o.text());return o}async function s(e,t){var r;let{arg:i}=t,o=await fetch("".concat(null!==(r=n.env.NEXT_PUBLIC_API_SERVER)&&void 0!==r?r:"").concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!o.ok)throw Error(await o.text());return o}},44623:function(e,t,r){"use strict";r.d(t,{Fg:function(){return s},K4:function(){return d},cE:function(){return a},f:function(){return i},ql:function(){return o}});var n=r(2265);let i={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"},o=(e,t)=>{let{match:r,unmatch:n,callInInit:i=!0}=t;{let t=window.matchMedia(e),o=function(e){e.matches?r&&r(e):n&&n(e)};return(i&&o(t),Object.prototype.hasOwnProperty.call(t,"addEventListener"))?(t.addEventListener("change",o),()=>t.removeEventListener("change",o)):(t.addListener(o),()=>t.removeListener(o))}},a=e=>new Date(1e3*e).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).replaceAll("/","-"),d=()=>{let[e,t]=(0,n.useState)("light");return(0,n.useEffect)(()=>{let e=()=>window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";t(e);let r=window.matchMedia("(prefers-color-scheme: dark)"),n=()=>t(e);return r.addEventListener("change",n),()=>r.removeEventListener("change",n)},[]),e},s=(e,t)=>{(0,n.useEffect)(()=>{switch(localStorage.setItem("mode",e),e){case"light":document.body.setAttribute("theme-mode","light");break;case"dark":document.body.setAttribute("theme-mode","dark");break;default:document.body.setAttribute("theme-mode",t)}},[e,t])}}},function(e){e.O(0,[798,674,86,949,753,293,406,862,256,936,617,444,971,23,744],function(){return e(e.s=95822)}),_N_E=e.O()}]);