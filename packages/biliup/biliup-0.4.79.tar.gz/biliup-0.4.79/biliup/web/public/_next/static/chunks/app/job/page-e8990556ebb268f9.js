(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[392],{11112:function(e,t,r){Promise.resolve().then(r.bind(r,22279))},22279:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return u}});var n=r(57437),i=r(48936),o=r(91617),a=r(30695),d=r(77389),l=r(44623),s=r(86326),c=e=>{console.log("renderFilterDropdown",e);let{tempFilteredValue:t,setTempFilteredValue:r,confirm:o,clear:a,close:d}=e;return(0,n.jsx)(i.Qc,{value:t[0],showClear:!0,prefix:(0,n.jsx)(s.Z,{}),placeholder:"搜索... ",onChange:e=>{let t=e?[e]:[];r(t),o({filteredValue:t})},style:{width:200,margin:5}})};function u(){let{Header:e,Footer:t,Sider:r,Content:s}=i.Layout,{data:u,error:h,isLoading:f}=(0,o.ZP)("/v1/streamer-info",a._i);if(f)return(0,n.jsx)(i.yC,{size:"large"});let{Text:m}=i.Typography,g=[{title:"名称",dataIndex:"name",onFilter:(e,t)=>t.name.includes(e),renderFilterDropdown:c},{title:"标题",dataIndex:"title",render:(e,t,r)=>(0,n.jsx)(m,{strong:!0,children:e}),onFilter:(e,t)=>t.title.includes(e),renderFilterDropdown:c},{title:"链接",dataIndex:"url"},{title:"封面",dataIndex:"live_cover_path"},{title:"更新日期",dataIndex:"date",defaultSortOrder:"descend",sorter:(e,t)=>e.date-t.date>0?1:-1,render:e=>(0,l.cE)(e)}];return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e,{style:{backgroundColor:"var(--semi-color-bg-1)"},children:(0,n.jsx)(i.JL,{style:{border:"none"},header:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{style:{backgroundColor:"rgb(250 102 76)",borderRadius:"var(--semi-border-radius-large)",color:"var(--semi-color-bg-0)",display:"flex",padding:"6px"},children:(0,n.jsx)(d.Z,{size:"large"})}),(0,n.jsx)("h4",{style:{marginLeft:"12px"},children:"直播历史"})]}),mode:"horizontal"})}),(0,n.jsx)(s,{style:{paddingLeft:12,paddingRight:12,backgroundColor:"var(--semi-color-bg-0)"},children:(0,n.jsx)("main",{children:(0,n.jsx)(i.iA,{size:"small",rowKey:"id",columns:g,dataSource:u,expandedRowRender:(e,t)=>(0,n.jsxs)(n.Fragment,{children:["文件列表：",e.files.map(e=>(0,n.jsxs)("div",{children:["\xa0\xa0文件名：",e.file]},e.id))]})})})})]})}},30695:function(e,t,r){"use strict";r.d(t,{_i:function(){return o},gz:function(){return l},hw:function(){return d},sj:function(){return a},wG:function(){return i}});var n=r(20357);async function i(e,t){var r;let{arg:i}=t,o=await fetch((null!==(r=n.env.NEXT_PUBLIC_API_SERVER)&&void 0!==r?r:"")+e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!(o.status>=200&&o.status<300))throw Error(await o.text());let a=await o.json();if(!o.ok)throw Error(a.message);return a}let o=async function(){for(var e,t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];let o=await fetch((null!==(e=n.env.NEXT_PUBLIC_API_SERVER)&&void 0!==e?e:"")+r[0],r[1]);if(!o.ok)throw Error(await o.text());return o.json()},a=async(e,t)=>{var r;let i=await fetch((null!==(r=n.env.NEXT_PUBLIC_API_SERVER)&&void 0!==r?r:"")+e,t);if(!i.ok)throw Error(await i.text());return i};async function d(e,t){var r;let{arg:i}=t,o=await fetch("".concat(null!==(r=n.env.NEXT_PUBLIC_API_SERVER)&&void 0!==r?r:"").concat(e,"/").concat(i),{method:"DELETE"});if(!o.ok)throw Error(await o.text());return o}async function l(e,t){var r;let{arg:i}=t,o=await fetch("".concat(null!==(r=n.env.NEXT_PUBLIC_API_SERVER)&&void 0!==r?r:"").concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!o.ok)throw Error(await o.text());return o}},44623:function(e,t,r){"use strict";r.d(t,{Fg:function(){return l},K4:function(){return d},cE:function(){return a},f:function(){return i},ql:function(){return o}});var n=r(2265);let i={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"},o=(e,t)=>{let{match:r,unmatch:n,callInInit:i=!0}=t;{let t=window.matchMedia(e),o=function(e){e.matches?r&&r(e):n&&n(e)};return(i&&o(t),Object.prototype.hasOwnProperty.call(t,"addEventListener"))?(t.addEventListener("change",o),()=>t.removeEventListener("change",o)):(t.addListener(o),()=>t.removeListener(o))}},a=e=>new Date(1e3*e).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).replaceAll("/","-"),d=()=>{let[e,t]=(0,n.useState)("light");return(0,n.useEffect)(()=>{let e=()=>window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";t(e);let r=window.matchMedia("(prefers-color-scheme: dark)"),n=()=>t(e);return r.addEventListener("change",n),()=>r.removeEventListener("change",n)},[]),e},l=(e,t)=>{(0,n.useEffect)(()=>{switch(localStorage.setItem("mode",e),e){case"light":document.body.setAttribute("theme-mode","light");break;case"dark":document.body.setAttribute("theme-mode","dark");break;default:document.body.setAttribute("theme-mode",t)}},[e,t])}},77389:function(e,t,r){"use strict";var n=r(2265);let i=(0,r(26018).A)(function(e){return n.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),n.createElement("path",{d:"M6.0824 8.00335C6.5571 5.16399 9.02583 3 12 3C14.9742 3 17.4429 5.16399 17.9176 8.00335C17.4039 8.04525 17 8.47546 17 9V16C17 16.5523 17.4477 17 18 17H18.5322C17.8461 18.3807 16.4717 19.359 14.8579 19.486C14.6831 19.1948 14.3643 19 14 19H10C9.44772 19 9 19.4477 9 20V21C9 21.5523 9.44772 22 10 22H14C14.3744 22 14.7008 21.7942 14.8722 21.4895C17.6318 21.3337 19.9311 19.4565 20.7134 16.9147C22.0259 16.5945 23 15.411 23 14V11C23 9.34315 21.6569 8 20 8H19.9381C19.446 4.05369 16.0796 1 12 1C7.92038 1 4.55399 4.05369 4.06189 8H4C2.34315 8 1 9.34315 1 11V14C1 15.6569 2.34315 17 4 17H6C6.55228 17 7 16.5523 7 16V9C7 8.47546 6.59614 8.04525 6.0824 8.00335Z",fill:"currentColor"}))},"customer_support");t.Z=i}},function(e){e.O(0,[798,674,86,949,753,293,406,862,936,617,971,23,744],function(){return e(e.s=11112)}),_N_E=e.O()}]);