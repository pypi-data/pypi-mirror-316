import{d as D,v,W as g,e as h,f as s,c as k,g as l,a as w,i as C,o as b,j as r,k as c,c6 as x,c7 as I,P as p,c8 as m,bk as P,Y as B}from"./index-Dkae_997.js";import{u as E}from"./usePageTitle-DGuB4AZ9.js";const W=D({__name:"DeploymentDuplicate",setup(N){const a=v(),u=g("deploymentId"),d=h(a.deployments.getDeployment,[u.value],{}),e=s(()=>d.response);function i(t){return"name"in t}async function y(t){try{if(!i(t))throw new Error("Invalid request");const n=await a.deployments.createDeployment(t);p("Deployment created","success"),m.push(P.deployment(n.id))}catch(n){const o=B(n,"Error creating deployment");p(o,"error"),console.warn(n)}}function f(){m.back()}const _=s(()=>e.value?`Duplicate Deployment: ${e.value.name}`:"Duplicate Deployment");return E(_),(t,n)=>{const o=C("p-layout-default");return e.value?(b(),k(o,{key:0,class:"deployment-edit"},{header:l(()=>[r(c(x),{deployment:e.value},null,8,["deployment"])]),default:l(()=>[r(c(I),{deployment:e.value,mode:"duplicate",onCancel:f,onSubmit:y},null,8,["deployment"])]),_:1})):w("",!0)}}});export{W as default};
//# sourceMappingURL=DeploymentDuplicate-DHsOLYqn.js.map
